This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by zfs configure 0.7.0, which was
generated by GNU Autoconf 2.69.  Invocation command line was

  $ ./configure 

## --------- ##
## Platform. ##
## --------- ##

hostname = localhost.localdomain
uname -m = x86_64
uname -r = 3.10.0
uname -s = Linux
uname -v = #3 SMP Mon Oct 23 22:03:05 EDT 2017

/usr/bin/uname -p = x86_64
/bin/uname -X     = unknown

/bin/arch              = x86_64
/usr/bin/arch -k       = unknown
/usr/convex/getsysinfo = unknown
/usr/bin/hostinfo      = unknown
/bin/machine           = unknown
/usr/bin/oslevel       = unknown
/bin/universe          = unknown

PATH: /usr/local/sbin
PATH: /usr/local/bin
PATH: /usr/sbin
PATH: /usr/bin
PATH: /root/bin


## ----------- ##
## Core tests. ##
## ----------- ##

configure:2398: checking for gawk
configure:2414: found /usr/bin/gawk
configure:2425: result: gawk
configure:2436: checking metadata
configure:2568: result: META file
configure:2606: checking build system type
configure:2620: result: x86_64-unknown-linux-gnu
configure:2640: checking host system type
configure:2653: result: x86_64-unknown-linux-gnu
configure:2673: checking target system type
configure:2686: result: x86_64-unknown-linux-gnu
configure:2714: checking whether to enable maintainer-specific portions of Makefiles
configure:2723: result: no
configure:2747: checking whether make supports nested variables
configure:2764: result: yes
configure:2791: checking for a BSD-compatible install
configure:2859: result: /usr/bin/install -c
configure:2870: checking whether build environment is sane
configure:2925: result: yes
configure:3076: checking for a thread-safe mkdir -p
configure:3115: result: /usr/bin/mkdir -p
configure:3118: checking whether make sets $(MAKE)
configure:3140: result: yes
configure:3283: checking for gcc
configure:3299: found /usr/bin/gcc
configure:3310: result: gcc
configure:3539: checking for C compiler version
configure:3548: gcc --version >&5
gcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-16)
Copyright (C) 2015 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

configure:3559: $? = 0
configure:3548: gcc -v >&5
Using built-in specs.
COLLECT_GCC=gcc
COLLECT_LTO_WRAPPER=/usr/libexec/gcc/x86_64-redhat-linux/4.8.5/lto-wrapper
Target: x86_64-redhat-linux
Configured with: ../configure --prefix=/usr --mandir=/usr/share/man --infodir=/usr/share/info --with-bugurl=http://bugzilla.redhat.com/bugzilla --enable-bootstrap --enable-shared --enable-threads=posix --enable-checking=release --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-gnu-unique-object --enable-linker-build-id --with-linker-hash-style=gnu --enable-languages=c,c++,objc,obj-c++,java,fortran,ada,go,lto --enable-plugin --enable-initfini-array --disable-libgcj --with-isl=/builddir/build/BUILD/gcc-4.8.5-20150702/obj-x86_64-redhat-linux/isl-install --with-cloog=/builddir/build/BUILD/gcc-4.8.5-20150702/obj-x86_64-redhat-linux/cloog-install --enable-gnu-indirect-function --with-tune=generic --with-arch_32=x86-64 --build=x86_64-redhat-linux
Thread model: posix
gcc version 4.8.5 20150623 (Red Hat 4.8.5-16) (GCC) 
configure:3559: $? = 0
configure:3548: gcc -V >&5
gcc: error: unrecognized command line option '-V'
gcc: fatal error: no input files
compilation terminated.
configure:3559: $? = 4
configure:3548: gcc -qversion >&5
gcc: error: unrecognized command line option '-qversion'
gcc: fatal error: no input files
compilation terminated.
configure:3559: $? = 4
configure:3579: checking whether the C compiler works
configure:3601: gcc    conftest.c  >&5
configure:3605: $? = 0
configure:3653: result: yes
configure:3656: checking for C compiler default output file name
configure:3658: result: a.out
configure:3664: checking for suffix of executables
configure:3671: gcc -o conftest    conftest.c  >&5
configure:3675: $? = 0
configure:3697: result: 
configure:3719: checking whether we are cross compiling
configure:3727: gcc -o conftest    conftest.c  >&5
configure:3731: $? = 0
configure:3738: ./conftest
configure:3742: $? = 0
configure:3757: result: no
configure:3762: checking for suffix of object files
configure:3784: gcc -c   conftest.c >&5
configure:3788: $? = 0
configure:3809: result: o
configure:3813: checking whether we are using the GNU C compiler
configure:3832: gcc -c   conftest.c >&5
configure:3832: $? = 0
configure:3841: result: yes
configure:3850: checking whether gcc accepts -g
configure:3870: gcc -c -g  conftest.c >&5
configure:3870: $? = 0
configure:3911: result: yes
configure:3928: checking for gcc option to accept ISO C89
configure:3991: gcc  -c -g -O2  conftest.c >&5
configure:3991: $? = 0
configure:4004: result: none needed
configure:4035: checking for style of include used by make
configure:4063: result: GNU
configure:4089: checking dependency style of gcc
configure:4200: result: gcc3
configure:4261: checking how to print strings
configure:4288: result: printf
configure:4309: checking for a sed that does not truncate output
configure:4373: result: /usr/bin/sed
configure:4391: checking for grep that handles long lines and -e
configure:4449: result: /usr/bin/grep
configure:4454: checking for egrep
configure:4516: result: /usr/bin/grep -E
configure:4521: checking for fgrep
configure:4583: result: /usr/bin/grep -F
configure:4618: checking for ld used by gcc
configure:4685: result: /usr/bin/ld
configure:4692: checking if the linker (/usr/bin/ld) is GNU ld
configure:4707: result: yes
configure:4719: checking for BSD- or MS-compatible name lister (nm)
configure:4768: result: /usr/bin/nm -B
configure:4898: checking the name lister (/usr/bin/nm -B) interface
configure:4905: gcc -c -g -O2  conftest.c >&5
configure:4908: /usr/bin/nm -B "conftest.o"
configure:4911: output
0000000000000000 B some_variable
configure:4918: result: BSD nm
configure:4921: checking whether ln -s works
configure:4925: result: yes
configure:4933: checking the maximum length of command line arguments
configure:5063: result: 1572864
configure:5080: checking whether the shell understands some XSI constructs
configure:5090: result: yes
configure:5094: checking whether the shell understands "+="
configure:5100: result: yes
configure:5135: checking how to convert x86_64-unknown-linux-gnu file names to x86_64-unknown-linux-gnu format
configure:5175: result: func_convert_file_noop
configure:5182: checking how to convert x86_64-unknown-linux-gnu file names to toolchain format
configure:5202: result: func_convert_file_noop
configure:5209: checking for /usr/bin/ld option to reload object files
configure:5216: result: -r
configure:5290: checking for objdump
configure:5306: found /usr/bin/objdump
configure:5317: result: objdump
configure:5349: checking how to recognize dependent libraries
configure:5551: result: pass_all
configure:5636: checking for dlltool
configure:5666: result: no
configure:5696: checking how to associate runtime and link libraries
configure:5723: result: printf %s\n
configure:5784: checking for ar
configure:5800: found /usr/bin/ar
configure:5811: result: ar
configure:5848: checking for archiver @FILE support
configure:5865: gcc -c -g -O2  conftest.c >&5
configure:5865: $? = 0
configure:5868: ar cru libconftest.a @conftest.lst >&5
configure:5871: $? = 0
configure:5876: ar cru libconftest.a @conftest.lst >&5
ar: conftest.o: No such file or directory
configure:5879: $? = 1
configure:5891: result: @
configure:5949: checking for strip
configure:5965: found /usr/bin/strip
configure:5976: result: strip
configure:6048: checking for ranlib
configure:6064: found /usr/bin/ranlib
configure:6075: result: ranlib
configure:6177: checking command to parse /usr/bin/nm -B output from gcc object
configure:6297: gcc -c -g -O2  conftest.c >&5
configure:6300: $? = 0
configure:6304: /usr/bin/nm -B conftest.o \| sed -n -e 's/^.*[ ]\([ABCDGIRSTW][ABCDGIRSTW]*\)[ ][ ]*\([_A-Za-z][_A-Za-z0-9]*\)$/\1 \2 \2/p' | sed '/ __gnu_lto/d' \> conftest.nm
configure:6307: $? = 0
configure:6373: gcc -o conftest -g -O2   conftest.c conftstm.o >&5
configure:6376: $? = 0
configure:6414: result: ok
configure:6451: checking for sysroot
configure:6481: result: no
configure:6558: gcc -c -g -O2  conftest.c >&5
configure:6561: $? = 0
configure:6737: checking for mt
configure:6767: result: no
configure:6787: checking if : is a manifest tool
configure:6793: : '-?'
configure:6801: result: no
configure:7443: checking how to run the C preprocessor
configure:7474: gcc -E  conftest.c
configure:7474: $? = 0
configure:7488: gcc -E  conftest.c
conftest.c:17:28: fatal error: ac_nonexistent.h: No such file or directory
 #include <ac_nonexistent.h>
                            ^
compilation terminated.
configure:7488: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| /* end confdefs.h.  */
| #include <ac_nonexistent.h>
configure:7513: result: gcc -E
configure:7533: gcc -E  conftest.c
configure:7533: $? = 0
configure:7547: gcc -E  conftest.c
conftest.c:17:28: fatal error: ac_nonexistent.h: No such file or directory
 #include <ac_nonexistent.h>
                            ^
compilation terminated.
configure:7547: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| /* end confdefs.h.  */
| #include <ac_nonexistent.h>
configure:7576: checking for ANSI C header files
configure:7596: gcc -c -g -O2  conftest.c >&5
configure:7596: $? = 0
configure:7669: gcc -o conftest -g -O2   conftest.c  >&5
configure:7669: $? = 0
configure:7669: ./conftest
configure:7669: $? = 0
configure:7680: result: yes
configure:7693: checking for sys/types.h
configure:7693: gcc -c -g -O2  conftest.c >&5
configure:7693: $? = 0
configure:7693: result: yes
configure:7693: checking for sys/stat.h
configure:7693: gcc -c -g -O2  conftest.c >&5
configure:7693: $? = 0
configure:7693: result: yes
configure:7693: checking for stdlib.h
configure:7693: gcc -c -g -O2  conftest.c >&5
configure:7693: $? = 0
configure:7693: result: yes
configure:7693: checking for string.h
configure:7693: gcc -c -g -O2  conftest.c >&5
configure:7693: $? = 0
configure:7693: result: yes
configure:7693: checking for memory.h
configure:7693: gcc -c -g -O2  conftest.c >&5
configure:7693: $? = 0
configure:7693: result: yes
configure:7693: checking for strings.h
configure:7693: gcc -c -g -O2  conftest.c >&5
configure:7693: $? = 0
configure:7693: result: yes
configure:7693: checking for inttypes.h
configure:7693: gcc -c -g -O2  conftest.c >&5
configure:7693: $? = 0
configure:7693: result: yes
configure:7693: checking for stdint.h
configure:7693: gcc -c -g -O2  conftest.c >&5
configure:7693: $? = 0
configure:7693: result: yes
configure:7693: checking for unistd.h
configure:7693: gcc -c -g -O2  conftest.c >&5
configure:7693: $? = 0
configure:7693: result: yes
configure:7707: checking for dlfcn.h
configure:7707: gcc -c -g -O2  conftest.c >&5
configure:7707: $? = 0
configure:7707: result: yes
configure:7913: checking for objdir
configure:7928: result: .libs
configure:8199: checking if gcc supports -fno-rtti -fno-exceptions
configure:8217: gcc -c -g -O2  -fno-rtti -fno-exceptions conftest.c >&5
cc1: warning: command line option '-fno-rtti' is valid for C++/ObjC++ but not for C [enabled by default]
configure:8221: $? = 0
configure:8234: result: no
configure:8561: checking for gcc option to produce PIC
configure:8568: result: -fPIC -DPIC
configure:8576: checking if gcc PIC flag -fPIC -DPIC works
configure:8594: gcc -c -g -O2  -fPIC -DPIC -DPIC conftest.c >&5
configure:8598: $? = 0
configure:8611: result: yes
configure:8640: checking if gcc static flag -static works
configure:8668: result: no
configure:8683: checking if gcc supports -c -o file.o
configure:8704: gcc -c -g -O2  -o out/conftest2.o conftest.c >&5
configure:8708: $? = 0
configure:8730: result: yes
configure:8738: checking if gcc supports -c -o file.o
configure:8785: result: yes
configure:8818: checking whether the gcc linker (/usr/bin/ld -m elf_x86_64) supports shared libraries
configure:9971: result: yes
configure:10008: checking whether -lc should be explicitly linked in
configure:10016: gcc -c -g -O2  conftest.c >&5
configure:10019: $? = 0
configure:10034: gcc -shared  -fPIC -DPIC conftest.o  -v -Wl,-soname -Wl,conftest -o conftest 2\>\&1 \| /usr/bin/grep  -lc  \>/dev/null 2\>\&1
configure:10037: $? = 0
configure:10051: result: no
configure:10211: checking dynamic linker characteristics
configure:10722: gcc -o conftest -g -O2   -Wl,-rpath -Wl,/foo conftest.c  >&5
configure:10722: $? = 0
configure:10948: result: GNU/Linux ld.so
configure:11055: checking how to hardcode library paths into programs
configure:11080: result: immediate
configure:11620: checking whether stripping libraries is possible
configure:11625: result: yes
configure:11660: checking if libtool supports shared libraries
configure:11662: result: yes
configure:11665: checking whether to build shared libraries
configure:11686: result: yes
configure:11689: checking whether to build static libraries
configure:11693: result: yes
configure:11739: checking dependency style of gcc
configure:11848: result: gcc3
configure:11864: checking whether gcc and cc understand -c and -o together
configure:11895: gcc -c conftest.c -o conftest2.o >&5
configure:11899: $? = 0
configure:11905: gcc -c conftest.c -o conftest2.o >&5
configure:11909: $? = 0
configure:11920: cc -c conftest.c >&5
configure:11924: $? = 0
configure:11932: cc -c conftest.c -o conftest2.o >&5
configure:11936: $? = 0
configure:11942: cc -c conftest.c -o conftest2.o >&5
configure:11946: $? = 0
configure:11964: result: yes
configure:12002: checking whether to build with code coverage support
configure:12022: result: no
configure:12361: checking zfs author
configure:12363: result: OpenZFS on Linux
configure:12366: checking zfs license
configure:12368: result: CDDL
configure:12373: checking linux distribution
configure:12400: result: redhat
configure:12404: checking default package type
configure:12420: result: rpm
configure:12425: checking default init directory
configure:12427: result: ${prefix}/etc/init.d
configure:12431: checking default init script type
configure:12447: result: redhat
configure:12451: checking default init config direectory
configure:12464: result: /etc/sysconfig
configure:12468: checking whether initramfs-tools is available
configure:12476: result: no
configure:12485: checking whether rpm is available
configure:12491: result: yes (4.11.3)
configure:12502: checking whether rpmbuild is available
configure:12514: result: no
configure:12537: checking whether spec files are available
configure:12539: result: yes (rpm/generic/*.spec.in)
configure:12564: checking whether dpkg is available
configure:12576: result: no
configure:12581: checking whether dpkg-buildpackage is available
configure:12594: result: no
configure:12610: checking whether alien is available
configure:12622: result: no
configure:12648: checking zfs config
configure:12650: result: all
configure:12656: checking for -Wno-unused-but-set-variable support
configure:12673: gcc -c -g -O2 -Wunused-but-set-variable  conftest.c >&5
configure:12673: $? = 0
configure:12676: result: yes
configure:12692: checking for -Wno-bool-compare support
configure:12709: gcc -c -g -O2 -Wbool-compare  conftest.c >&5
gcc: error: unrecognized command line option '-Wbool-compare'
configure:12709: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| /* end confdefs.h.  */
| 
| int
| main ()
| {
| 
|   ;
|   return 0;
| }
configure:12718: result: no
configure:12731: checking whether host toolchain supports SSE
configure:12743: gcc -o conftest -g -O2   conftest.c  >&5
configure:12743: $? = 0
configure:12748: result: yes
configure:12761: checking whether host toolchain supports SSE2
configure:12773: gcc -o conftest -g -O2   conftest.c  >&5
configure:12773: $? = 0
configure:12778: result: yes
configure:12791: checking whether host toolchain supports SSE3
configure:12804: gcc -o conftest -g -O2   conftest.c  >&5
configure:12804: $? = 0
configure:12809: result: yes
configure:12822: checking whether host toolchain supports SSSE3
configure:12834: gcc -o conftest -g -O2   conftest.c  >&5
configure:12834: $? = 0
configure:12839: result: yes
configure:12852: checking whether host toolchain supports SSE4.1
configure:12864: gcc -o conftest -g -O2   conftest.c  >&5
configure:12864: $? = 0
configure:12869: result: yes
configure:12882: checking whether host toolchain supports SSE4.2
configure:12894: gcc -o conftest -g -O2   conftest.c  >&5
configure:12894: $? = 0
configure:12899: result: yes
configure:12912: checking whether host toolchain supports AVX
configure:12925: gcc -o conftest -g -O2   conftest.c  >&5
configure:12925: $? = 0
configure:12927: result: yes
configure:12943: checking whether host toolchain supports AVX2
configure:12956: gcc -o conftest -g -O2   conftest.c  >&5
configure:12956: $? = 0
configure:12958: result: yes
configure:12974: checking whether host toolchain supports AVX512F
configure:12987: gcc -o conftest -g -O2   conftest.c  >&5
configure:12987: $? = 0
configure:12989: result: yes
configure:13005: checking whether host toolchain supports AVX512CD
configure:13018: gcc -o conftest -g -O2   conftest.c  >&5
configure:13018: $? = 0
configure:13020: result: yes
configure:13036: checking whether host toolchain supports AVX512DQ
configure:13049: gcc -o conftest -g -O2   conftest.c  >&5
configure:13049: $? = 0
configure:13051: result: yes
configure:13067: checking whether host toolchain supports AVX512BW
configure:13080: gcc -o conftest -g -O2   conftest.c  >&5
configure:13080: $? = 0
configure:13082: result: yes
configure:13098: checking whether host toolchain supports AVX512IFMA
configure:13111: gcc -o conftest -g -O2   conftest.c  >&5
configure:13111: $? = 0
configure:13113: result: yes
configure:13129: checking whether host toolchain supports AVX512VBMI
configure:13142: gcc -o conftest -g -O2   conftest.c  >&5
configure:13142: $? = 0
configure:13144: result: yes
configure:13160: checking whether host toolchain supports AVX512PF
configure:13173: gcc -o conftest -g -O2   conftest.c  >&5
configure:13173: $? = 0
configure:13175: result: yes
configure:13191: checking whether host toolchain supports AVX512ER
configure:13204: gcc -o conftest -g -O2   conftest.c  >&5
configure:13204: $? = 0
configure:13206: result: yes
configure:13222: checking whether host toolchain supports AVX512VL
configure:13235: gcc -o conftest -g -O2   conftest.c  >&5
configure:13235: $? = 0
configure:13237: result: yes
configure:13256: checking for target asm dir
configure:13294: result: asm-x86_64
configure:26852: checking for udev directories
configure:26894: result: /lib/udev;/lib/udev/rules.d
configure:26964: checking for dracut directory
configure:26996: result: /usr/lib/dracut
configure:27002: checking zlib.h usability
configure:27002: gcc -c -g -O2  conftest.c >&5
configure:27002: $? = 0
configure:27002: result: yes
configure:27002: checking zlib.h presence
configure:27002: gcc -E  conftest.c
configure:27002: $? = 0
configure:27002: result: yes
configure:27002: checking for zlib.h
configure:27002: result: yes
configure:27015: checking for library containing compress2
configure:27046: gcc -o conftest -g -O2   conftest.c  >&5
/tmp/ccNjkOLk.o: In function `main':
/home/zfs/z_sm4/zfs_hmx/conftest.c:57: undefined reference to `compress2'
collect2: error: ld returned 1 exit status
configure:27046: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| /* end confdefs.h.  */
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char compress2 ();
| int
| main ()
| {
| return compress2 ();
|   ;
|   return 0;
| }
configure:27046: gcc -o conftest -g -O2   conftest.c -lz   >&5
configure:27046: $? = 0
configure:27063: result: -lz
configure:27078: checking for library containing uncompress
configure:27109: gcc -o conftest -g -O2   conftest.c -lz  >&5
configure:27109: $? = 0
configure:27126: result: none required
configure:27141: checking for library containing crc32
configure:27172: gcc -o conftest -g -O2   conftest.c -lz  >&5
configure:27172: $? = 0
configure:27189: result: none required
configure:27213: checking uuid/uuid.h usability
configure:27213: gcc -c -g -O2  conftest.c >&5
configure:27213: $? = 0
configure:27213: result: yes
configure:27213: checking uuid/uuid.h presence
configure:27213: gcc -E  conftest.c
configure:27213: $? = 0
configure:27213: result: yes
configure:27213: checking for uuid/uuid.h
configure:27213: result: yes
configure:27226: checking for library containing uuid_generate
configure:27257: gcc -o conftest -g -O2   conftest.c -lz  >&5
/tmp/cci7eVoq.o: In function `main':
/home/zfs/z_sm4/zfs_hmx/conftest.c:58: undefined reference to `uuid_generate'
collect2: error: ld returned 1 exit status
configure:27257: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| /* end confdefs.h.  */
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char uuid_generate ();
| int
| main ()
| {
| return uuid_generate ();
|   ;
|   return 0;
| }
configure:27257: gcc -o conftest -g -O2   conftest.c -luuid  -lz  >&5
configure:27257: $? = 0
configure:27274: result: -luuid
configure:27289: checking for library containing uuid_is_null
configure:27320: gcc -o conftest -g -O2   conftest.c -luuid -lz  >&5
configure:27320: $? = 0
configure:27337: result: none required
configure:27372: checking for xdrmem_create in -ltirpc
configure:27397: gcc -o conftest -g -O2   conftest.c -ltirpc  -luuid -lz  >&5
/usr/bin/ld: cannot find -ltirpc
collect2: error: ld returned 1 exit status
configure:27397: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| /* end confdefs.h.  */
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char xdrmem_create ();
| int
| main ()
| {
| return xdrmem_create ();
|   ;
|   return 0;
| }
configure:27406: result: no
configure:27424: checking for library containing xdrmem_create
configure:27455: gcc -o conftest -g -O2   conftest.c -luuid -lz  >&5
configure:27455: $? = 0
configure:27472: result: none required
configure:27558: checking blkid/blkid.h usability
configure:27558: gcc -c -g -O2  conftest.c >&5
configure:27558: $? = 0
configure:27558: result: yes
configure:27558: checking blkid/blkid.h presence
configure:27558: gcc -E  conftest.c
configure:27558: $? = 0
configure:27558: result: yes
configure:27558: checking for blkid/blkid.h
configure:27558: result: yes
configure:27580: checking attr/xattr.h usability
configure:27580: gcc -c -g -O2  conftest.c >&5
configure:27580: $? = 0
configure:27580: result: yes
configure:27580: checking attr/xattr.h presence
configure:27580: gcc -E  conftest.c
configure:27580: $? = 0
configure:27580: result: yes
configure:27580: checking for attr/xattr.h
configure:27580: result: yes
configure:27602: checking libudev.h usability
configure:27602: gcc -c -g -O2  conftest.c >&5
conftest.c:83:21: fatal error: libudev.h: No such file or directory
 #include <libudev.h>
                     ^
compilation terminated.
configure:27602: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| /* end confdefs.h.  */
| #include <stdio.h>
| #ifdef HAVE_SYS_TYPES_H
| # include <sys/types.h>
| #endif
| #ifdef HAVE_SYS_STAT_H
| # include <sys/stat.h>
| #endif
| #ifdef STDC_HEADERS
| # include <stdlib.h>
| # include <stddef.h>
| #else
| # ifdef HAVE_STDLIB_H
| #  include <stdlib.h>
| # endif
| #endif
| #ifdef HAVE_STRING_H
| # if !defined STDC_HEADERS && defined HAVE_MEMORY_H
| #  include <memory.h>
| # endif
| # include <string.h>
| #endif
| #ifdef HAVE_STRINGS_H
| # include <strings.h>
| #endif
| #ifdef HAVE_INTTYPES_H
| # include <inttypes.h>
| #endif
| #ifdef HAVE_STDINT_H
| # include <stdint.h>
| #endif
| #ifdef HAVE_UNISTD_H
| # include <unistd.h>
| #endif
| #include <libudev.h>
configure:27602: result: no
configure:27602: checking libudev.h presence
configure:27602: gcc -E  conftest.c
conftest.c:50:21: fatal error: libudev.h: No such file or directory
 #include <libudev.h>
                     ^
compilation terminated.
configure:27602: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| /* end confdefs.h.  */
| #include <libudev.h>
configure:27602: result: no
configure:27602: checking for libudev.h
configure:27602: result: no
configure:27620: checking for library containing udev_device_get_is_initialized
configure:27651: gcc -o conftest -g -O2   conftest.c -luuid -lz  >&5
/tmp/ccmcE3DP.o: In function `main':
/home/zfs/z_sm4/zfs_hmx/conftest.c:61: undefined reference to `udev_device_get_is_initialized'
collect2: error: ld returned 1 exit status
configure:27651: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| /* end confdefs.h.  */
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char udev_device_get_is_initialized ();
| int
| main ()
| {
| return udev_device_get_is_initialized ();
|   ;
|   return 0;
| }
configure:27651: gcc -o conftest -g -O2   conftest.c -ludev  -luuid -lz  >&5
/usr/bin/ld: cannot find -ludev
collect2: error: ld returned 1 exit status
configure:27651: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| /* end confdefs.h.  */
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char udev_device_get_is_initialized ();
| int
| main ()
| {
| return udev_device_get_is_initialized ();
|   ;
|   return 0;
| }
configure:27668: result: no
configure:27684: checking openssl/evp.h usability
configure:27684: gcc -c -g -O2  conftest.c >&5
configure:27684: $? = 0
configure:27684: result: yes
configure:27684: checking openssl/evp.h presence
configure:27684: gcc -E  conftest.c
configure:27684: $? = 0
configure:27684: result: yes
configure:27684: checking for openssl/evp.h
configure:27684: result: yes
configure:27704: checking for -Wframe-larger-than=<size> support
configure:27721: gcc -c -g -O2 -Wframe-larger-than=1024  conftest.c >&5
configure:27721: $? = 0
configure:27724: result: yes
configure:27746: checking makedev() is declared in sys/sysmacros.h
configure:27764: gcc -c -g -O2  conftest.c >&5
configure:27764: $? = 0
configure:27766: result: yes
configure:27781: checking makedev() is declared in sys/mkdev.h
configure:27799: gcc -c -g -O2  conftest.c >&5
conftest.c:53:25: fatal error: sys/mkdev.h: No such file or directory
   #include <sys/mkdev.h>
                         ^
compilation terminated.
configure:27799: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| /* end confdefs.h.  */
| 
| 		#include <sys/mkdev.h>
| 
| int
| main ()
| {
| 
| 		int k;
| 		k = makedev(0,0);
| 
|   ;
|   return 0;
| }
configure:27809: result: no
configure:27816: checking for -Wno-format-truncation support
configure:27833: gcc -c -g -O2 -Wno-format-truncation  conftest.c >&5
configure:27833: $? = 0
configure:27836: result: yes
configure:27861: checking for mlockall
configure:27861: gcc -o conftest -g -O2   conftest.c -luuid -lz  >&5
configure:27861: $? = 0
configure:27861: result: yes
configure:27887: checking kernel source directory
configure:27930: result: /home/stor/linux-3.10.0-693.el7
configure:27941: checking kernel build directory
configure:27968: result: /home/stor/linux-3.10.0-693.el7
configure:27971: checking kernel source version
configure:28019: result: 3.10.0
configure:28032: checking kernel file name for module symbols
configure:28061: result: Module.symvers
configure:28102: checking spl source directory
configure:28160: result: /usr/local/src/spl-0.7.0
configure:28174: checking spl build directory
configure:28214: result: /usr/local/src/spl-0.7.0/3.10.0
configure:28228: checking spl source version
configure:28251: result: 0.7.0-17_g28920ea
configure:28262: checking spl file name for module symbols
configure:28303: result: Module.symvers
configure:28401: checking whether modules can be built
configure:28430: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:28433: $? = 0
configure:28435: test -s build/conftest.o
configure:28438: $? = 0
configure:28441: result: yes
configure:28466: checking for compile-time stack validation (objtool)
configure:28502: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:28505: $? = 0
configure:28507: test -s build/conftest.o
configure:28510: $? = 0
configure:28513: result: yes
configure:28559: gcc -o conftest -g -O2   conftest.c -luuid -lz  >&5
configure:28559: $? = 0
configure:28559: ./conftest
configure:28559: $? = 1
configure: program exited with status 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| /* end confdefs.h.  */
| 
| 
| 				#include "/home/stor/linux-3.10.0-693.el7/include/linux/license.h"
| 
| int
| main ()
| {
| 
| 				return !license_is_gpl_compatible("CDDL");
| 
|   ;
|   return 0;
| }
| 
configure:28574: checking whether kernel was built with 16K or larger stacks
configure:28609: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:28612: $? = 0
configure:28614: test -s build/conftest.o
configure:28617: $? = 0
configure:28620: result: yes
configure:28642: checking whether kernel was built with CONFIG_DEBUG_LOCK_ALLOC
configure:28677: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:63:4: error: #error CONFIG_DEBUG_LOCK_ALLOC not #defined
   #error CONFIG_DEBUG_LOCK_ALLOC not #defined
    ^
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:28680: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| 
| 
| 		#include <linux/module.h>
| 
| int
| main (void)
| {
| 
| 		#ifndef CONFIG_DEBUG_LOCK_ALLOC
| 		#error CONFIG_DEBUG_LOCK_ALLOC not #defined
| 		#endif
| 
|   ;
|   return 0;
| }
| 
configure:28771: result: no
configure:28788: checking whether DECLARE_EVENT_CLASS() is available
configure:28859: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror -I$(src)  M=/home/zfs/z_sm4/zfs_hmx/build 
FATAL: modpost: GPL-incompatible module conftest.ko uses GPL-only symbol 'trace_event_raw_init'
make[1]: *** [__modpost] Error 1
make: *** [modules] Error 2
configure:28862: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| 
| 
| 		#include <linux/module.h>
| 		MODULE_LICENSE(ZFS_META_LICENSE);
| 
| 		#define CREATE_TRACE_POINTS
| 		#include "conftest.h"
| 
| int
| main (void)
| {
| 
| 		trace_zfs_autoconf_event_one(1UL);
| 		trace_zfs_autoconf_event_two(2UL);
| 
|   ;
|   return 0;
| }
| 
configure:28880: result: no
configure:28892: checking whether current->bio_tail exists
configure:28925: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:62:10: error: ‘struct task_struct’ has no member named ‘bio_tail’
   current->bio_tail = (struct bio **) NULL;
          ^
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:28928: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| 
| 
| 		#include <linux/sched.h>
| 
| int
| main (void)
| {
| 
| 		current->bio_tail = (struct bio **) NULL;
| 
|   ;
|   return 0;
| }
| 
configure:28946: result: no
configure:28948: checking whether current->bio_list exists
configure:28981: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:28984: $? = 0
configure:28986: test -s build/conftest.o
configure:28989: $? = 0
configure:28992: result: yes
configure:29020: checking whether super_block->s_user_ns exists
configure:29055: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:65:8: error: ‘struct super_block’ has no member named ‘s_user_ns’
   super.s_user_ns = (struct user_namespace *)NULL;
        ^
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:29058: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| 
| 
| 		#include <linux/fs.h>
| 		#include <linux/user_namespace.h>
| 
| int
| main (void)
| {
| 
| 		struct super_block super;
| 		super.s_user_ns = (struct user_namespace *)NULL;
| 
|   ;
|   return 0;
| }
| 
configure:29076: result: no
configure:29087: checking whether submit_bio() wants 1 arg
configure:29122: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:63:3: error: unknown type name ‘blk_qc_t’
   blk_qc_t blk_qc;
   ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:65:3: error: passing argument 1 of ‘submit_bio’ makes integer from pointer without a cast [-Werror]
   blk_qc = submit_bio(bio);
   ^
In file included from include/linux/highmem.h:4:0,
                 from include/linux/bio.h:23,
                 from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:57:
include/linux/fs.h:2869:13: note: expected ‘int’ but argument is of type ‘struct bio *’
 extern void submit_bio(int, struct bio *);
             ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:65:3: error: too few arguments to function ‘submit_bio’
   blk_qc = submit_bio(bio);
   ^
In file included from include/linux/highmem.h:4:0,
                 from include/linux/bio.h:23,
                 from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:57:
include/linux/fs.h:2869:13: note: declared here
 extern void submit_bio(int, struct bio *);
             ^
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:29125: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| 
| 
| 		#include <linux/bio.h>
| 
| int
| main (void)
| {
| 
| 		blk_qc_t blk_qc;
| 		struct bio *bio = NULL;
| 		blk_qc = submit_bio(bio);
| 
|   ;
|   return 0;
| }
| 
configure:29143: result: no
configure:29154: checking block device operation prototypes
configure:29203: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror -Wno-unused-but-set-variable  M=/home/zfs/z_sm4/zfs_hmx/build 
configure:29206: $? = 0
configure:29208: test -s build/conftest.o
configure:29211: $? = 0
configure:29214: result: struct block_device
configure:29236: checking whether block_device_operations.release is void
configure:29280: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror -Wno-unused-but-set-variable  M=/home/zfs/z_sm4/zfs_hmx/build 
configure:29283: $? = 0
configure:29285: test -s build/conftest.o
configure:29288: $? = 0
configure:29291: result: void
configure:29312: checking whether kernel defines fmode_t
configure:29345: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:29348: $? = 0
configure:29350: test -s build/conftest.o
configure:29353: $? = 0
configure:29356: result: yes
configure:29377: checking whether blkdev_get() wants 3 args
configure:29411: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:29414: $? = 0
configure:29416: test -s build/conftest.o
configure:29419: $? = 0
configure:29422: result: yes
configure:29442: checking whether blkdev_get_by_path() is available
configure:29476: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:29479: $? = 0
configure:29481: test -s build/conftest.o
configure:29484: $? = 0
configure:29536: result: yes
configure:29546: checking whether open_bdev_exclusive() is available
configure:29580: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:68:3: error: implicit declaration of function ‘open_bdev_exclusive’ [-Werror=implicit-function-declaration]
   open_bdev_exclusive(NULL, 0, NULL);
   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:29583: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| 
| 
| 		#include <linux/fs.h>
| 
| int
| main (void)
| {
| 
| 		open_bdev_exclusive(NULL, 0, NULL);
| 
|   ;
|   return 0;
| }
| 
configure:29603: result: no
configure:29650: checking whether lookup_bdev() wants 1 arg
configure:29684: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:29687: $? = 0
configure:29689: test -s build/conftest.o
configure:29692: $? = 0
configure:29950: result: yes
configure:29961: checking whether invalidate_bdev() wants 1 arg
configure:29995: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:29998: $? = 0
configure:30000: test -s build/conftest.o
configure:30003: $? = 0
configure:30006: result: yes
configure:30027: checking whether bdev_logical_block_size() is available
configure:30063: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror -Wno-unused-but-set-variable  M=/home/zfs/z_sm4/zfs_hmx/build 
configure:30066: $? = 0
configure:30068: test -s build/conftest.o
configure:30071: $? = 0
configure:30074: result: yes
configure:30096: checking whether bdev_physical_block_size() is available
configure:30132: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror -Wno-unused-but-set-variable  M=/home/zfs/z_sm4/zfs_hmx/build 
configure:30135: $? = 0
configure:30137: test -s build/conftest.o
configure:30140: $? = 0
configure:30143: result: yes
configure:30165: checking whether bio has bi_iter
configure:30199: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:73:6: error: ‘struct bio’ has no member named ‘bi_iter’
   bio.bi_iter.bi_sector = 0;
      ^
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:30202: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| 
| 
| 		#include <linux/bio.h>
| 
| int
| main (void)
| {
| 
| 		struct bio bio;
| 		bio.bi_iter.bi_sector = 0;
| 
|   ;
|   return 0;
| }
| 
configure:30220: result: no
configure:30231: checking whether BIO_RW_FAILFAST_* are defined
configure:30267: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:73:18: error: ‘BIO_RW_FAILFAST_DEV’ undeclared (first use in this function)
   flags = ((1 << BIO_RW_FAILFAST_DEV) |
                  ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:73:18: note: each undeclared identifier is reported only once for each function it appears in
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:74:11: error: ‘BIO_RW_FAILFAST_TRANSPORT’ undeclared (first use in this function)
     (1 << BIO_RW_FAILFAST_TRANSPORT) |
           ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:75:11: error: ‘BIO_RW_FAILFAST_DRIVER’ undeclared (first use in this function)
     (1 << BIO_RW_FAILFAST_DRIVER));
           ^
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:30270: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| 
| 
| 		#include <linux/bio.h>
| 
| int
| main (void)
| {
| 
| 		int flags __attribute__ ((unused));
| 		flags = ((1 << BIO_RW_FAILFAST_DEV) |
| 			 (1 << BIO_RW_FAILFAST_TRANSPORT) |
| 			 (1 << BIO_RW_FAILFAST_DRIVER));
| 
|   ;
|   return 0;
| }
| 
configure:30288: result: no
configure:30299: checking whether bio_set_dev() exists
configure:30335: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:75:3: error: implicit declaration of function ‘bio_set_dev’ [-Werror=implicit-function-declaration]
   bio_set_dev(bio, bdev);
   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:30338: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| 
| 
| 		#include <linux/bio.h>
| 		#include <linux/fs.h>
| 
| int
| main (void)
| {
| 
| 		struct block_device *bdev = NULL;
| 		struct bio *bio = NULL;
| 		bio_set_dev(bio, bdev);
| 
|   ;
|   return 0;
| }
| 
configure:30356: result: no
configure:30367: checking whether REQ_FAILFAST_MASK is defined
configure:30401: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:30404: $? = 0
configure:30406: test -s build/conftest.o
configure:30409: $? = 0
configure:30412: result: yes
configure:30433: checking whether REQ_OP_DISCARD is defined
configure:30466: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
In file included from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:67:0:
include/linux/blk_types.h:113:2: error: expected specifier-qualifier-list before ‘RH_KABI_REPLACE’
  RH_KABI_REPLACE(void *rh_reserved1, struct bio_aux *bio_aux)
  ^
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:30469: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/blk_types.h>
| 
| int
| main (void)
| {
| 
| 		int op __attribute__ ((unused)) = REQ_OP_DISCARD;
| 
|   ;
|   return 0;
| }
| 
configure:30487: result: no
configure:30498: checking whether REQ_OP_SECURE_ERASE is defined
configure:30531: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
In file included from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:67:0:
include/linux/blk_types.h:113:2: error: expected specifier-qualifier-list before ‘RH_KABI_REPLACE’
  RH_KABI_REPLACE(void *rh_reserved1, struct bio_aux *bio_aux)
  ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:73:37: error: ‘REQ_OP_SECURE_ERASE’ undeclared (first use in this function)
   int op __attribute__ ((unused)) = REQ_OP_SECURE_ERASE;
                                     ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:73:37: note: each undeclared identifier is reported only once for each function it appears in
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:30534: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/blk_types.h>
| 
| int
| main (void)
| {
| 
| 		int op __attribute__ ((unused)) = REQ_OP_SECURE_ERASE;
| 
|   ;
|   return 0;
| }
| 
configure:30552: result: no
configure:30563: checking whether REQ_OP_FLUSH is defined
configure:30596: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
In file included from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:67:0:
include/linux/blk_types.h:113:2: error: expected specifier-qualifier-list before ‘RH_KABI_REPLACE’
  RH_KABI_REPLACE(void *rh_reserved1, struct bio_aux *bio_aux)
  ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:73:37: error: ‘REQ_OP_FLUSH’ undeclared (first use in this function)
   int op __attribute__ ((unused)) = REQ_OP_FLUSH;
                                     ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:73:37: note: each undeclared identifier is reported only once for each function it appears in
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:30599: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/blk_types.h>
| 
| int
| main (void)
| {
| 
| 		int op __attribute__ ((unused)) = REQ_OP_FLUSH;
| 
|   ;
|   return 0;
| }
| 
configure:30617: result: no
configure:30628: checking whether bio->bi_opf is defined
configure:30662: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:74:6: error: ‘struct bio’ has no member named ‘bi_opf’
   bio.bi_opf = 0;
      ^
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:30665: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/bio.h>
| 
| int
| main (void)
| {
| 
| 		struct bio bio __attribute__ ((unused));
| 		bio.bi_opf = 0;
| 
|   ;
|   return 0;
| }
| 
configure:30683: result: no
configure:30694: checking whether bio_end_io_t wants 1 arg
configure:30730: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:71:51: error: initialization from incompatible pointer type [-Werror]
   bio_end_io_t *end_io __attribute__ ((unused)) = wanted_end_io;
                                                   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:30733: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/bio.h>
| 
| 		void wanted_end_io(struct bio *bio) { return; }
| 
| 		bio_end_io_t *end_io __attribute__ ((unused)) = wanted_end_io;
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:30751: result: no
configure:30762: checking whether bio->bi_status exists
configure:30798: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:74:3: error: unknown type name ‘blk_status_t’
   blk_status_t status __attribute__ ((unused)) = BLK_STS_OK;
   ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:74:50: error: ‘BLK_STS_OK’ undeclared (first use in this function)
   blk_status_t status __attribute__ ((unused)) = BLK_STS_OK;
                                                  ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:74:50: note: each undeclared identifier is reported only once for each function it appears in
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:76:6: error: ‘struct bio’ has no member named ‘bi_status’
   bio.bi_status = status;
      ^
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:30801: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/bio.h>
| 
| int
| main (void)
| {
| 
| 		struct bio bio __attribute__ ((unused));
| 		blk_status_t status __attribute__ ((unused)) = BLK_STS_OK;
| 
| 		bio.bi_status = status;
| 
|   ;
|   return 0;
| }
| 
configure:30819: result: no
configure:30830: checking whether BIO_RW_BARRIER is defined
configure:30864: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:74:11: error: ‘BIO_RW_BARRIER’ undeclared (first use in this function)
   flags = BIO_RW_BARRIER;
           ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:74:11: note: each undeclared identifier is reported only once for each function it appears in
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:30867: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/bio.h>
| 
| int
| main (void)
| {
| 
| 		int flags __attribute__ ((unused));
| 		flags = BIO_RW_BARRIER;
| 
|   ;
|   return 0;
| }
| 
configure:30885: result: no
configure:30896: checking whether BIO_RW_DISCARD is defined
configure:30930: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:74:11: error: ‘BIO_RW_DISCARD’ undeclared (first use in this function)
   flags = BIO_RW_DISCARD;
           ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:74:11: note: each undeclared identifier is reported only once for each function it appears in
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:30933: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/bio.h>
| 
| int
| main (void)
| {
| 
| 		int flags __attribute__ ((unused));
| 		flags = BIO_RW_DISCARD;
| 
|   ;
|   return 0;
| }
| 
configure:30951: result: no
configure:30962: checking whether blk_queue bdi is dynamic
configure:30997: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:75:22: error: incompatible types when assigning to type ‘struct backing_dev_info’ from type ‘struct backing_dev_info *’
   q.backing_dev_info = &bdi;
                      ^
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:31000: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| 
| 
| 		#include <linux/blkdev.h>
| 
| int
| main (void)
| {
| 
| 		struct request_queue q;
| 		struct backing_dev_info bdi;
| 		q.backing_dev_info = &bdi;
| 
|   ;
|   return 0;
| }
| 
configure:31018: result: no
configure:31029: checking whether blk_queue_flush() is available
configure:31065: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror -Wno-unused-but-set-variable  M=/home/zfs/z_sm4/zfs_hmx/build 
configure:31068: $? = 0
configure:31070: test -s build/conftest.o
configure:31073: $? = 0
configure:31076: result: yes
configure:31082: checking whether blk_queue_flush() is GPL-only
configure:31119: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror -Wno-unused-but-set-variable  M=/home/zfs/z_sm4/zfs_hmx/build 
FATAL: modpost: GPL-incompatible module conftest.ko uses GPL-only symbol 'blk_queue_flush'
make[1]: *** [__modpost] Error 1
make: *** [modules] Error 2
configure:31122: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| 
| 
| 			#include <linux/module.h>
| 			#include <linux/blkdev.h>
| 
| 			MODULE_LICENSE("CDDL");
| 
| int
| main (void)
| {
| 
| 			struct request_queue *q = NULL;
| 			(void) blk_queue_flush(q, REQ_FLUSH);
| 
|   ;
|   return 0;
| }
| 
configure:31137: result: yes
configure:31164: checking whether blk_queue_write_cache() exists
configure:31200: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror -Wno-unused-but-set-variable  M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:78:3: error: implicit declaration of function ‘blk_queue_write_cache’ [-Werror=implicit-function-declaration]
   blk_queue_write_cache(q, true, true);
   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:31203: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| 
| 
| 		#include <linux/kernel.h>
| 		#include <linux/blkdev.h>
| 
| 
| int
| main (void)
| {
| 
| 		struct request_queue *q = NULL;
| 		blk_queue_write_cache(q, true, true);
| 
|   ;
|   return 0;
| }
| 
configure:31290: result: no
configure:31303: checking whether blk_queue_max_hw_sectors() is available
configure:31339: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror -Wno-unused-but-set-variable  M=/home/zfs/z_sm4/zfs_hmx/build 
configure:31342: $? = 0
configure:31344: test -s build/conftest.o
configure:31347: $? = 0
configure:31350: result: yes
configure:31372: checking whether blk_queue_max_segments() is available
configure:31408: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror -Wno-unused-but-set-variable  M=/home/zfs/z_sm4/zfs_hmx/build 
configure:31411: $? = 0
configure:31413: test -s build/conftest.o
configure:31416: $? = 0
configure:31419: result: yes
configure:31441: checking whether the BIO_RW_UNPLUG enum is available
configure:31478: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror -Wno-unused-but-set-variable  M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:79:8: error: ‘BIO_RW_UNPLUG’ undeclared (first use in this function)
   rw = BIO_RW_UNPLUG;
        ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:79:8: note: each undeclared identifier is reported only once for each function it appears in
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:79:3: error: ‘rw’ has an incomplete type
   rw = BIO_RW_UNPLUG;
   ^
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:31481: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| 
| 
| 		#include <linux/blkdev.h>
| 
| int
| main (void)
| {
| 
| 		extern enum bio_rw_flags rw;
| 
| 		rw = BIO_RW_UNPLUG;
| 
|   ;
|   return 0;
| }
| 
configure:31499: result: no
configure:31511: checking whether struct blk_plug is available
configure:31549: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror -Wno-unused-but-set-variable  M=/home/zfs/z_sm4/zfs_hmx/build 
configure:31552: $? = 0
configure:31554: test -s build/conftest.o
configure:31557: $? = 0
configure:31560: result: yes
configure:31582: checking whether get_disk_ro() is available
configure:31618: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror -Wno-unused-but-set-variable  M=/home/zfs/z_sm4/zfs_hmx/build 
configure:31621: $? = 0
configure:31623: test -s build/conftest.o
configure:31626: $? = 0
configure:31629: result: yes
configure:31650: checking whether get_gendisk() is available
configure:31684: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:31687: $? = 0
configure:31689: test -s build/conftest.o
configure:31692: $? = 0
configure:31744: result: yes
configure:31755: checking whether bio_set_op_attrs is available
configure:31790: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:31793: $? = 0
configure:31795: test -s build/conftest.o
configure:31798: $? = 0
configure:31801: result: yes
configure:31822: checking whether generic_readlink is global
configure:31857: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:31860: $? = 0
configure:31862: test -s build/conftest.o
configure:31865: $? = 0
configure:31868: result: yes
configure:31889: checking whether ql->discard_granularity is available
configure:31924: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:31927: $? = 0
configure:31929: test -s build/conftest.o
configure:31932: $? = 0
configure:31935: result: yes
configure:31956: checking whether super_block uses const struct xattr_handler
configure:32003: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:32006: $? = 0
configure:32008: test -s build/conftest.o
configure:32011: $? = 0
configure:32014: result: yes
configure:32035: checking whether xattr_handler has name
configure:32072: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:82:4: error: unknown field ‘name’ specified in initializer
    .name = XATTR_NAME_POSIX_ACL_ACCESS,
    ^
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:32075: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| 
| 
| 		#include <linux/xattr.h>
| 
| 		static const struct xattr_handler
| 		    xops __attribute__ ((unused)) = {
| 			.name = XATTR_NAME_POSIX_ACL_ACCESS,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:32093: result: no
configure:32104: checking whether xattr_handler->get() wants both dentry and inode
configure:32144: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:85:4: error: initialization from incompatible pointer type [-Werror]
    .get = get,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:85:4: error: (near initialization for ‘xops.get’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:32147: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| 
| 
| 		#include <linux/xattr.h>
| 
| 		int get(const struct xattr_handler *handler,
| 		    struct dentry *dentry, struct inode *inode,
| 		    const char *name, void *buffer, size_t size) { return 0; }
| 		static const struct xattr_handler
| 		    xops __attribute__ ((unused)) = {
| 			.get = get,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:32165: result: no
configure:32167: checking whether xattr_handler->get() wants xattr_handler
configure:32207: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:85:5: error: initialization from incompatible pointer type [-Werror]
     .get = get,
     ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:85:5: error: (near initialization for ‘xops.get’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:32210: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| 
| 
| 			#include <linux/xattr.h>
| 
| 			int get(const struct xattr_handler *handler,
| 			    struct dentry *dentry, const char *name,
| 			    void *buffer, size_t size) { return 0; }
| 			static const struct xattr_handler
| 			    xops __attribute__ ((unused)) = {
| 				.get = get,
| 			};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:32228: result: no
configure:32230: checking whether xattr_handler->get() wants dentry
configure:32270: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:32273: $? = 0
configure:32275: test -s build/conftest.o
configure:32278: $? = 0
configure:32281: result: yes
configure:32384: checking whether xattr_handler->set() wants both dentry and inode
configure:32426: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:88:4: error: initialization from incompatible pointer type [-Werror]
    .set = set,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:88:4: error: (near initialization for ‘xops.set’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:32429: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| 
| 
| 		#include <linux/xattr.h>
| 
| 		int set(const struct xattr_handler *handler,
| 		    struct dentry *dentry, struct inode *inode,
| 		    const char *name, const void *buffer,
| 		    size_t size, int flags)
| 		    { return 0; }
| 		static const struct xattr_handler
| 		    xops __attribute__ ((unused)) = {
| 			.set = set,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:32447: result: no
configure:32449: checking whether xattr_handler->set() wants xattr_handler
configure:32490: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:87:5: error: initialization from incompatible pointer type [-Werror]
     .set = set,
     ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:87:5: error: (near initialization for ‘xops.set’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:32493: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| 
| 
| 			#include <linux/xattr.h>
| 
| 			int set(const struct xattr_handler *handler,
| 			    struct dentry *dentry, const char *name,
| 			    const void *buffer, size_t size, int flags)
| 			    { return 0; }
| 			static const struct xattr_handler
| 			    xops __attribute__ ((unused)) = {
| 				.set = set,
| 			};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:32511: result: no
configure:32513: checking whether xattr_handler->set() wants dentry
configure:32553: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:32556: $? = 0
configure:32558: test -s build/conftest.o
configure:32561: $? = 0
configure:32564: result: yes
configure:32668: checking whether xattr_handler->list() wants simple
configure:32706: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:85:4: error: initialization from incompatible pointer type [-Werror]
    .list = list,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:85:4: error: (near initialization for ‘xops.list’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:32709: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| 
| 
| 		#include <linux/xattr.h>
| 
| 		bool list(struct dentry *dentry) { return 0; }
| 		static const struct xattr_handler
| 		    xops __attribute__ ((unused)) = {
| 			.list = list,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:32727: result: no
configure:32729: checking whether xattr_handler->list() wants xattr_handler
configure:32769: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:87:5: error: initialization from incompatible pointer type [-Werror]
     .list = list,
     ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:87:5: error: (near initialization for ‘xops.list’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:32772: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| 
| 
| 			#include <linux/xattr.h>
| 
| 			size_t list(const struct xattr_handler *handler,
| 			    struct dentry *dentry, char *list, size_t list_size,
| 			    const char *name, size_t name_len) { return 0; }
| 			static const struct xattr_handler
| 			    xops __attribute__ ((unused)) = {
| 				.list = list,
| 			};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:32790: result: no
configure:32792: checking whether xattr_handler->list() wants dentry
configure:32833: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:32836: $? = 0
configure:32838: test -s build/conftest.o
configure:32841: $? = 0
configure:32844: result: yes
configure:32948: checking whether inode_owner_or_capable() exists
configure:32982: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:32985: $? = 0
configure:32987: test -s build/conftest.o
configure:32990: $? = 0
configure:32993: result: yes
configure:33079: checking whether posix_acl_from_xattr() needs user_ns
configure:33114: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:33117: $? = 0
configure:33119: test -s build/conftest.o
configure:33122: $? = 0
configure:33125: result: yes
configure:33146: checking whether posix_acl_release() is available
configure:33182: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:33185: $? = 0
configure:33187: test -s build/conftest.o
configure:33190: $? = 0
configure:33193: result: yes
configure:33199: checking whether posix_acl_release() is GPL-only
configure:33238: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
FATAL: modpost: GPL-incompatible module conftest.ko uses GPL-only symbol 'kfree_call_rcu'
make[1]: *** [__modpost] Error 1
make: *** [modules] Error 2
configure:33241: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| 
| 
| 			#include <linux/module.h>
| 			#include <linux/cred.h>
| 			#include <linux/fs.h>
| 			#include <linux/posix_acl.h>
| 
| 			MODULE_LICENSE("CDDL");
| 
| int
| main (void)
| {
| 
| 			struct posix_acl* tmp = posix_acl_alloc(1, 0);
| 			posix_acl_release(tmp);
| 
|   ;
|   return 0;
| }
| 
configure:33256: result: yes
configure:33284: checking whether set_cached_acl() is usable
configure:33325: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
FATAL: modpost: GPL-incompatible module conftest.ko uses GPL-only symbol 'kfree_call_rcu'
make[1]: *** [__modpost] Error 1
make: *** [modules] Error 2
configure:33328: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| 
| 
| 		#include <linux/module.h>
| 		#include <linux/cred.h>
| 		#include <linux/fs.h>
| 		#include <linux/posix_acl.h>
| 
| 		MODULE_LICENSE("CDDL");
| 
| int
| main (void)
| {
| 
| 		struct inode *ip = NULL;
| 		struct posix_acl *acl = posix_acl_alloc(1, 0);
| 		set_cached_acl(ip, ACL_TYPE_ACCESS, acl);
| 		forget_cached_acl(ip, ACL_TYPE_ACCESS);
| 
|   ;
|   return 0;
| }
| 
configure:33346: result: no
configure:33357: checking whether posix_acl_chmod exists
configure:33391: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:33394: $? = 0
configure:33396: test -s build/conftest.o
configure:33399: $? = 0
configure:33402: result: yes
configure:33422: checking whether __posix_acl_chmod exists
configure:33456: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:93:3: error: implicit declaration of function ‘__posix_acl_chmod’ [-Werror=implicit-function-declaration]
   __posix_acl_chmod(NULL, 0, 0)
   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:33459: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| 
| 
| 		#include <linux/fs.h>
| 		#include <linux/posix_acl.h>
| 
| int
| main (void)
| {
| 
| 		__posix_acl_chmod(NULL, 0, 0)
| 
|   ;
|   return 0;
| }
| 
configure:33477: result: no
configure:33488: checking whether posix_acl_equiv_mode() wants umode_t
configure:33523: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:33526: $? = 0
configure:33528: test -s build/conftest.o
configure:33531: $? = 0
configure:33534: result: yes
configure:33555: checking whether posix_acl_valid() wants user namespace
configure:33593: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:98:3: error: passing argument 1 of ‘posix_acl_valid’ from incompatible pointer type [-Werror]
   error = posix_acl_valid(user_ns, acl);
   ^
In file included from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:88:0:
include/linux/posix_acl.h:87:12: note: expected ‘const struct posix_acl *’ but argument is of type ‘struct user_namespace *’
 extern int posix_acl_valid(const struct posix_acl *);
            ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:98:3: error: too many arguments to function ‘posix_acl_valid’
   error = posix_acl_valid(user_ns, acl);
   ^
In file included from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:88:0:
include/linux/posix_acl.h:87:12: note: declared here
 extern int posix_acl_valid(const struct posix_acl *);
            ^
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:33596: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| 
| 
| 		#include <linux/fs.h>
| 		#include <linux/posix_acl.h>
| 
| int
| main (void)
| {
| 
| 		struct user_namespace *user_ns = NULL;
| 		const struct posix_acl *acl = NULL;
| 		int error;
| 
| 		error = posix_acl_valid(user_ns, acl);
| 
|   ;
|   return 0;
| }
| 
configure:33614: result: no
configure:33625: checking whether iops->permission() exists
configure:33664: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:33667: $? = 0
configure:33669: test -s build/conftest.o
configure:33672: $? = 0
configure:33675: result: yes
configure:33696: checking whether iops->permission() wants nameidata
configure:33736: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:95:4: error: initialization from incompatible pointer type [-Werror]
    .permission = permission_fn,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:95:4: error: (near initialization for ‘iops.permission’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:33739: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| 
| 
| 		#include <linux/fs.h>
| 
| 		int permission_fn(struct inode *inode, int mask,
| 		    struct nameidata *nd) { return 0; }
| 
| 		static const struct inode_operations
| 		    iops __attribute__ ((unused)) = {
| 			.permission = permission_fn,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:33760: result: no
configure:33771: checking whether iops->check_acl() exists
configure:33810: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:94:4: error: unknown field ‘check_acl’ specified in initializer
    .check_acl = check_acl_fn,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:94:4: error: initialization from incompatible pointer type [-Werror]
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:94:4: error: (near initialization for ‘iops.lookup’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:33813: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| 
| 
| 		#include <linux/fs.h>
| 
| 		int check_acl_fn(struct inode *inode, int mask) { return 0; }
| 
| 		static const struct inode_operations
| 		    iops __attribute__ ((unused)) = {
| 			.check_acl = check_acl_fn,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:33831: result: no
configure:33842: checking whether iops->check_acl() wants flags
configure:33882: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:95:4: error: unknown field ‘check_acl’ specified in initializer
    .check_acl = check_acl_fn,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:95:4: error: initialization from incompatible pointer type [-Werror]
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:95:4: error: (near initialization for ‘iops.lookup’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:33885: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| 
| 
| 		#include <linux/fs.h>
| 
| 		int check_acl_fn(struct inode *inode, int mask,
| 		    unsigned int flags) { return 0; }
| 
| 		static const struct inode_operations
| 		    iops __attribute__ ((unused)) = {
| 			.check_acl = check_acl_fn,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:33906: result: no
configure:33917: checking whether iops->get_acl() exists
configure:33957: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:33960: $? = 0
configure:33962: test -s build/conftest.o
configure:33965: $? = 0
configure:33968: result: yes
configure:33989: checking whether iops->set_acl() exists
configure:34029: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:96:4: error: unknown field ‘set_acl’ specified in initializer
    .set_acl = set_acl_fn,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:96:4: error: initialization from incompatible pointer type [-Werror]
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:96:4: error: (near initialization for ‘iops.lookup’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:34032: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| 
| 
| 		#include <linux/fs.h>
| 
| 		int set_acl_fn(struct inode *inode, struct posix_acl *acl, int type)
| 		    { return 0; }
| 
| 		static const struct inode_operations
| 		    iops __attribute__ ((unused)) = {
| 			.set_acl = set_acl_fn,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:34050: result: no
configure:34062: checking whether iops->getattr() takes a path
configure:34104: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:98:4: error: initialization from incompatible pointer type [-Werror]
    .getattr = test_getattr,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:98:4: error: (near initialization for ‘iops.getattr’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:34107: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| 
| 
| 		#include <linux/fs.h>
| 
| 		int test_getattr(
| 		    const struct path *p, struct kstat *k,
| 		    u32 request_mask, unsigned int query_flags)
| 		    { return 0; }
| 
| 		static const struct inode_operations
| 		    iops __attribute__ ((unused)) = {
| 			.getattr = test_getattr,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:34125: result: no
configure:34136: checking whether iops->getattr() takes a vfsmount
configure:34178: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:34181: $? = 0
configure:34183: test -s build/conftest.o
configure:34186: $? = 0
configure:34189: result: yes
configure:34211: checking whether inode_set_flags() exists
configure:34245: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:34248: $? = 0
configure:34250: test -s build/conftest.o
configure:34253: $? = 0
configure:34256: result: yes
configure:34277: checking whether uncached_acl_sentinel() exists
configure:34310: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:97:3: error: implicit declaration of function ‘uncached_acl_sentinel’ [-Werror=implicit-function-declaration]
   void *sentinel __attribute__ ((unused)) = uncached_acl_sentinel(NULL);
   ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:97:45: error: initialization makes pointer from integer without a cast [-Werror]
   void *sentinel __attribute__ ((unused)) = uncached_acl_sentinel(NULL);
                                             ^
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:34313: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| 
| 
| 		#include <linux/fs.h>
| 
| int
| main (void)
| {
| 
| 		void *sentinel __attribute__ ((unused)) = uncached_acl_sentinel(NULL);
| 
|   ;
|   return 0;
| }
| 
configure:34331: result: no
configure:34342: checking whether sops->show_options() wants dentry
configure:34380: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:34383: $? = 0
configure:34385: test -s build/conftest.o
configure:34388: $? = 0
configure:34391: result: yes
configure:34412: checking whether file_inode() is available
configure:34446: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:34449: $? = 0
configure:34451: test -s build/conftest.o
configure:34454: $? = 0
configure:34457: result: yes
configure:34478: checking whether file_dentry() is available
configure:34512: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:34515: $? = 0
configure:34517: test -s build/conftest.o
configure:34520: $? = 0
configure:34523: result: yes
configure:34544: checking whether fops->fsync() wants
configure:34585: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:101:4: error: initialization from incompatible pointer type [-Werror]
    .fsync = test_fsync,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:101:4: error: (near initialization for ‘fops.fsync’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:34588: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| 
| 
| 		#include <linux/fs.h>
| 
| 		int test_fsync(struct file *f, struct dentry *dentry, int x)
| 		    { return 0; }
| 
| 		static const struct file_operations
| 		    fops __attribute__ ((unused)) = {
| 			.fsync = test_fsync,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:34652: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:100:4: error: initialization from incompatible pointer type [-Werror]
    .fsync = test_fsync,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:100:4: error: (near initialization for ‘fops.fsync’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:34655: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| 
| 
| 		#include <linux/fs.h>
| 
| 		int test_fsync(struct file *f, int x) { return 0; }
| 
| 		static const struct file_operations
| 		    fops __attribute__ ((unused)) = {
| 			.fsync = test_fsync,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:34720: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:34723: $? = 0
configure:34725: test -s build/conftest.o
configure:34728: $? = 0
configure:34731: result: range
configure:34751: checking whether sops->evict_inode() exists
configure:34787: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:34790: $? = 0
configure:34792: test -s build/conftest.o
configure:34795: $? = 0
configure:34798: result: yes
configure:34819: checking whether sops->dirty_inode() wants flags
configure:34858: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:34861: $? = 0
configure:34863: test -s build/conftest.o
configure:34866: $? = 0
configure:34869: result: yes
configure:34890: checking whether sops->nr_cached_objects() exists
configure:34929: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:34932: $? = 0
configure:34934: test -s build/conftest.o
configure:34937: $? = 0
configure:34940: result: yes
configure:34961: checking whether sops->free_cached_objects() exists
configure:35001: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:35004: $? = 0
configure:35006: test -s build/conftest.o
configure:35009: $? = 0
configure:35012: result: yes
configure:35034: checking whether fops->fallocate() exists
configure:35074: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:35077: $? = 0
configure:35079: test -s build/conftest.o
configure:35082: $? = 0
configure:35085: result: yes
configure:35106: checking whether iops->fallocate() exists
configure:35146: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:107:4: error: unknown field ‘fallocate’ specified in initializer
    .fallocate = test_fallocate,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:107:4: error: initialization from incompatible pointer type [-Werror]
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:107:4: error: (near initialization for ‘fops.lookup’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:35149: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| 
| 
| 		#include <linux/fs.h>
| 
| 		long test_fallocate(struct inode *inode, int mode,
| 		    loff_t offset, loff_t len) { return 0; }
| 
| 		static const struct inode_operations
| 		    fops __attribute__ ((unused)) = {
| 			.fallocate = test_fallocate,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:35167: result: no
configure:35179: checking whether fops->aio_fsync() exists
configure:35216: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:35219: $? = 0
configure:35221: test -s build/conftest.o
configure:35224: $? = 0
configure:35227: result: yes
configure:35248: checking whether iops->create()/mkdir()/mknod() take umode_t
configure:35288: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:35291: $? = 0
configure:35293: test -s build/conftest.o
configure:35296: $? = 0
configure:35299: result: yes
configure:35320: checking whether iops->lookup() passes nameidata
configure:35361: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:110:4: error: initialization from incompatible pointer type [-Werror]
    .lookup = inode_lookup,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:110:4: error: (near initialization for ‘iops.lookup’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:35364: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| 
| 
| 		#include <linux/fs.h>
| 
| 		struct dentry *inode_lookup(struct inode *inode,
| 		    struct dentry *dentry, struct nameidata *nidata)
| 		    { return NULL; }
| 
| 		static const struct inode_operations iops
| 		    __attribute__ ((unused)) = {
| 			.lookup	= inode_lookup,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:35382: result: no
configure:35393: checking whether iops->create() passes nameidata
configure:35438: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:114:4: error: initialization from incompatible pointer type [-Werror]
    .create  = inode_create,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:114:4: error: (near initialization for ‘iops.create’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:35441: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| 
| 
| 		#include <linux/fs.h>
| 
| 		#ifdef HAVE_MKDIR_UMODE_T
| 		int inode_create(struct inode *inode ,struct dentry *dentry,
| 		    umode_t umode, struct nameidata *nidata) { return 0; }
| 		#else
| 		int inode_create(struct inode *inode,struct dentry *dentry,
| 		    int umode, struct nameidata * nidata) { return 0; }
| 		#endif
| 
| 		static const struct inode_operations
| 		    iops __attribute__ ((unused)) = {
| 			.create		= inode_create,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:35459: result: no
configure:35470: checking whether iops->get_link() passes delayed
configure:35508: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:104:14: error: ‘struct delayed_call’ declared inside parameter list [-Werror]
       struct delayed_call *done) { return "symlink"; }
              ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:104:14: error: its scope is only this definition or declaration, which is probably not what you want [-Werror]
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:107:4: error: unknown field ‘get_link’ specified in initializer
    .get_link = get_link,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:107:4: error: initialization from incompatible pointer type [-Werror]
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:107:4: error: (near initialization for ‘iops.lookup’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:35511: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| 
| 
| 		#include <linux/fs.h>
| 		const char *get_link(struct dentry *de, struct inode *ip,
| 		    struct delayed_call *done) { return "symlink"; }
| 		static struct inode_operations
| 		     iops __attribute__ ((unused)) = {
| 			.get_link = get_link,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:35529: result: no
configure:35531: checking whether iops->get_link() passes cookie
configure:35569: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:107:5: error: unknown field ‘get_link’ specified in initializer
     .get_link = get_link,
     ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:107:5: error: initialization from incompatible pointer type [-Werror]
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:107:5: error: (near initialization for ‘iops.lookup’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:35572: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| 
| 
| 			#include <linux/fs.h>
| 			const char *get_link(struct dentry *de, struct
| 			    inode *ip, void **cookie) { return "symlink"; }
| 			static struct inode_operations
| 			     iops __attribute__ ((unused)) = {
| 				.get_link = get_link,
| 			};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:35590: result: no
configure:35593: checking whether iops->follow_link() passes cookie
configure:35631: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:107:4: error: initialization from incompatible pointer type [-Werror]
    .follow_link = follow_link,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:107:4: error: (near initialization for ‘iops.follow_link’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:35634: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| 
| 
| 		#include <linux/fs.h>
| 		const char *follow_link(struct dentry *de,
| 		    void **cookie) { return "symlink"; }
| 		static struct inode_operations
| 		    iops __attribute__ ((unused)) = {
| 			.follow_link = follow_link,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:35652: result: no
configure:35654: checking whether iops->follow_link() passes nameidata
configure:35692: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:35695: $? = 0
configure:35697: test -s build/conftest.o
configure:35700: $? = 0
configure:35703: result: yes
configure:35777: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:104:4: error: #error "Expecting get_link() delayed done"
   #error "Expecting get_link() delayed done"
    ^
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:35780: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| 
| 
| 		#if !defined(HAVE_GET_LINK_DELAYED)
| 		#error "Expecting get_link() delayed done"
| 		#endif
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:35796: checking whether iops->put_link() passes cookie
configure:35834: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:108:5: error: initialization from incompatible pointer type [-Werror]
     .put_link = put_link,
     ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:108:5: error: (near initialization for ‘iops.put_link’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:35837: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| 
| 
| 			#include <linux/fs.h>
| 			void put_link(struct inode *ip, void *cookie)
| 			    { return; }
| 			static struct inode_operations
| 			    iops __attribute__ ((unused)) = {
| 				.put_link = put_link,
| 			};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:35855: result: no
configure:35857: checking whether iops->put_link() passes nameidata
configure:35895: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:35898: $? = 0
configure:35900: test -s build/conftest.o
configure:35903: $? = 0
configure:35906: result: yes
configure:35940: checking whether i_op->tmpfile() exists
configure:35978: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:109:4: error: unknown field ‘tmpfile’ specified in initializer
    .tmpfile = tmpfile,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:109:4: error: initialization from incompatible pointer type [-Werror]
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:109:4: error: (near initialization for ‘iops.lookup’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:35981: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| 
| 
| 		#include <linux/fs.h>
| 		int tmpfile(struct inode *inode, struct dentry *dentry,
| 		    umode_t mode) { return 0; }
| 		static struct inode_operations
| 		    iops __attribute__ ((unused)) = {
| 			.tmpfile = tmpfile,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:35999: result: no
configure:36010: checking whether iops->truncate_range() exists
configure:36047: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:108:4: error: unknown field ‘truncate_range’ specified in initializer
    .truncate_range = truncate_range,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:108:4: error: initialization from incompatible pointer type [-Werror]
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:108:4: error: (near initialization for ‘iops.lookup’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:36050: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| 
| 
| 		#include <linux/fs.h>
| 		void truncate_range(struct inode *inode, loff_t start,
| 		                    loff_t end) { return; }
| 		static struct inode_operations iops __attribute__ ((unused)) = {
| 			.truncate_range	= truncate_range,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:36068: result: no
configure:36079: checking whether dops->d_automount() exists
configure:36115: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:36118: $? = 0
configure:36120: test -s build/conftest.o
configure:36123: $? = 0
configure:36126: result: yes
configure:36147: checking whether eops->encode_fh() wants inode
configure:36184: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:36187: $? = 0
configure:36189: test -s build/conftest.o
configure:36192: $? = 0
configure:36195: result: yes
configure:36216: checking whether eops->commit_metadata() exists
configure:36252: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:36255: $? = 0
configure:36257: test -s build/conftest.o
configure:36260: $? = 0
configure:36263: result: yes
configure:36283: checking whether clear_inode() is available
configure:36317: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:36320: $? = 0
configure:36322: test -s build/conftest.o
configure:36325: $? = 0
configure:36377: result: yes
configure:36387: checking whether setattr_prepare() is available
configure:36425: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:118:3: error: implicit declaration of function ‘setattr_prepare’ [-Werror=implicit-function-declaration]
   error = setattr_prepare(dentry, attr);
   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:36428: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| 
| 
| 		#include <linux/fs.h>
| 
| int
| main (void)
| {
| 
| 		struct dentry *dentry = NULL;
| 		struct iattr *attr = NULL;
| 		int error;
| 
| 		error = setattr_prepare(dentry, attr);
| 
|   ;
|   return 0;
| }
| 
configure:36448: result: no
configure:36495: checking whether insert_inode_locked() is available
configure:36529: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:36532: $? = 0
configure:36534: test -s build/conftest.o
configure:36537: $? = 0
configure:36589: result: yes
configure:36599: checking whether d_make_root() is available
configure:36633: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:36636: $? = 0
configure:36638: test -s build/conftest.o
configure:36641: $? = 0
configure:36693: result: yes
configure:36703: checking whether d_obtain_alias() is available
configure:36737: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:36740: $? = 0
configure:36742: test -s build/conftest.o
configure:36745: $? = 0
configure:36797: result: yes
configure:36807: checking whether d_prune_aliases() is available
configure:36842: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:36845: $? = 0
configure:36847: test -s build/conftest.o
configure:36850: $? = 0
configure:36902: result: yes
configure:36912: checking whether d_set_d_op() is available
configure:36946: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:36949: $? = 0
configure:36951: test -s build/conftest.o
configure:36954: $? = 0
configure:37006: result: yes
configure:37017: checking whether dops->d_revalidate() takes struct nameidata
configure:37057: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:120:4: error: initialization from incompatible pointer type [-Werror]
    .d_revalidate = revalidate,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:120:4: error: (near initialization for ‘dops.d_revalidate’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:37060: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| 
| 
| 		#include <linux/dcache.h>
| 
| 		int revalidate (struct dentry *dentry,
| 		    struct nameidata *nidata) { return 0; }
| 
| 		static const struct dentry_operations
| 		    dops __attribute__ ((unused)) = {
| 			.d_revalidate	= revalidate,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:37078: result: no
configure:37089: checking whether dentry uses const struct dentry_operations
configure:37128: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:37131: $? = 0
configure:37133: test -s build/conftest.o
configure:37136: $? = 0
configure:37139: result: yes
configure:37159: checking whether truncate_setsize() is available
configure:37193: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:37196: $? = 0
configure:37198: test -s build/conftest.o
configure:37201: $? = 0
configure:37253: result: yes
configure:37264: checking whether security_inode_init_security wants 6 args
configure:37304: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:128:3: error: passing argument 4 of ‘security_inode_init_security’ from incompatible pointer type [-Werror]
   security_inode_init_security(ip, dip, str, &name, &value, &len);
   ^
In file included from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:115:0:
include/linux/security.h:1815:5: note: expected ‘initxattrs’ but argument is of type ‘char **’
 int security_inode_init_security(struct inode *inode, struct inode *dir,
     ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:128:3: error: too many arguments to function ‘security_inode_init_security’
   security_inode_init_security(ip, dip, str, &name, &value, &len);
   ^
In file included from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:115:0:
include/linux/security.h:1815:5: note: declared here
 int security_inode_init_security(struct inode *inode, struct inode *dir,
     ^
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:37307: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| 
| 
| 		#include <linux/security.h>
| 
| int
| main (void)
| {
| 
| 		struct inode *ip __attribute__ ((unused)) = NULL;
| 		struct inode *dip __attribute__ ((unused)) = NULL;
| 		const struct qstr *str __attribute__ ((unused)) = NULL;
| 		char *name __attribute__ ((unused)) = NULL;
| 		void *value __attribute__ ((unused)) = NULL;
| 		size_t len __attribute__ ((unused)) = 0;
| 
| 		security_inode_init_security(ip, dip, str, &name, &value, &len);
| 
|   ;
|   return 0;
| }
| 
configure:37325: result: no
configure:37336: checking whether security_inode_init_security wants callback
configure:37374: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:37377: $? = 0
configure:37379: test -s build/conftest.o
configure:37382: $? = 0
configure:37385: result: yes
configure:37405: checking whether mount_nodev() is available
configure:37439: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:37442: $? = 0
configure:37444: test -s build/conftest.o
configure:37447: $? = 0
configure:37499: result: yes
configure:37510: checking whether super_block has s_shrink
configure:37552: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:37555: $? = 0
configure:37557: test -s build/conftest.o
configure:37560: $? = 0
configure:37563: result: yes
configure:37585: checking whether shrink_control has nid
configure:37620: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:126:16: error: ‘struct shrink_control’ has no member named ‘nid’
       sizeof(sc.nid);
                ^
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:37623: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_MOUNT_NODEV 1
| #define HAVE_SHRINK 1
| 
| 
| 		#include <linux/fs.h>
| 
| int
| main (void)
| {
| 
| 		struct shrink_control sc __attribute__ ((unused));
| 		unsigned long scnidsize __attribute__ ((unused)) =
| 		    sizeof(sc.nid);
| 
|   ;
|   return 0;
| }
| 
configure:37641: result: no
configure:37652: checking whether super_block has s_instances list_head
configure:37687: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:126:3: error: passing argument 1 of ‘INIT_LIST_HEAD’ from incompatible pointer type [-Werror]
   INIT_LIST_HEAD(&sb.s_instances);
   ^
In file included from include/linux/wait.h:5:0,
                 from include/linux/fs.h:6,
                 from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:118:
include/linux/list.h:24:20: note: expected ‘struct list_head *’ but argument is of type ‘struct hlist_node *’
 static inline void INIT_LIST_HEAD(struct list_head *list)
                    ^
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:37690: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_MOUNT_NODEV 1
| #define HAVE_SHRINK 1
| 
| 
| 		#include <linux/fs.h>
| 
| int
| main (void)
| {
| 
| 		struct super_block sb __attribute__ ((unused));
| 
| 		INIT_LIST_HEAD(&sb.s_instances);
| 
|   ;
|   return 0;
| }
| 
configure:37708: result: no
configure:37718: checking whether super_block has s_d_op
configure:37752: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:37755: $? = 0
configure:37757: test -s build/conftest.o
configure:37760: $? = 0
configure:37763: result: yes
configure:37784: checking whether super_setup_bdi_name() exists
configure:37822: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:129:7: error: implicit declaration of function ‘super_setup_bdi_name’ [-Werror=implicit-function-declaration]
       super_setup_bdi_name(&sb, "%.28s-%ld", name, atomic_long_inc_return(&zfs_bdi_seq));
       ^
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:37825: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_MOUNT_NODEV 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| 
| 
| 		#include <linux/fs.h>
| 		struct super_block sb;
| 
| int
| main (void)
| {
| 
| 		char *name = "bdi";
| 		atomic_long_t zfs_bdi_seq;
| 		int error __attribute__((unused)) =
| 		    super_setup_bdi_name(&sb, "%.28s-%ld", name, atomic_long_inc_return(&zfs_bdi_seq));
| 
|   ;
|   return 0;
| }
| 
configure:37845: result: no
configure:37847: checking whether bdi_setup_and_register() wants 2 args
configure:37884: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:128:8: error: too few arguments to function ‘bdi_setup_and_register’
        bdi_setup_and_register(&bdi, name);
        ^
In file included from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:119:0:
include/linux/backing-dev.h:120:5: note: declared here
 int bdi_setup_and_register(struct backing_dev_info *, char *, unsigned int);
     ^
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:37887: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_MOUNT_NODEV 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| 
| 
| 			#include <linux/backing-dev.h>
| 			struct backing_dev_info bdi;
| 
| int
| main (void)
| {
| 
| 			char *name = "bdi";
| 			int error __attribute__((unused)) =
| 			    bdi_setup_and_register(&bdi, name);
| 
|   ;
|   return 0;
| }
| 
configure:37907: result: no
configure:37909: checking whether bdi_setup_and_register() wants 3 args
configure:37947: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:37950: $? = 0
configure:37952: test -s build/conftest.o
configure:37955: $? = 0
configure:38007: result: yes
configure:38533: checking whether set_nlink() is available
configure:38568: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:38571: $? = 0
configure:38573: test -s build/conftest.o
configure:38576: $? = 0
configure:38579: result: yes
configure:38600: checking whether elevator_change() is available
configure:38639: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror -Wno-unused-but-set-variable  M=/home/zfs/z_sm4/zfs_hmx/build 
configure:38642: $? = 0
configure:38644: test -s build/conftest.o
configure:38647: $? = 0
configure:38650: result: yes
configure:38671: checking whether sget() wants 5 args
configure:38709: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:38712: $? = 0
configure:38714: test -s build/conftest.o
configure:38717: $? = 0
configure:38720: result: yes
configure:38740: checking whether lseek_execute() is available
configure:38779: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:134:3: error: implicit declaration of function ‘lseek_execute’ [-Werror=implicit-function-declaration]
   lseek_execute(fp, ip, offset, maxsize);
   ^
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:38782: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_MOUNT_NODEV 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| 
| 
| 		#include <linux/fs.h>
| 
| int
| main (void)
| {
| 
| 		struct file *fp __attribute__ ((unused)) = NULL;
| 		struct inode *ip __attribute__ ((unused)) = NULL;
| 		loff_t offset __attribute__ ((unused)) = 0;
| 		loff_t maxsize __attribute__ ((unused)) = 0;
| 
| 		lseek_execute(fp, ip, offset, maxsize);
| 
|   ;
|   return 0;
| }
| 
configure:38802: result: no
configure:38850: checking whether fops->iterate_shared() is available
configure:38889: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:124:41: error: ‘struct dir_context’ declared inside parameter list [-Werror]
   int iterate(struct file *filp, struct dir_context * context)
                                         ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:124:41: error: its scope is only this definition or declaration, which is probably not what you want [-Werror]
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:129:4: error: unknown field ‘iterate_shared’ specified in initializer
    .iterate_shared  = iterate,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:129:4: error: initialization from incompatible pointer type [-Werror]
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:129:4: error: (near initialization for ‘fops.owner’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:38892: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_MOUNT_NODEV 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| 
| 
| 		#include <linux/fs.h>
| 		int iterate(struct file *filp, struct dir_context * context)
| 		    { return 0; }
| 
| 		static const struct file_operations fops
| 		    __attribute__ ((unused)) = {
| 			.iterate_shared	 = iterate,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:38910: result: no
configure:38913: checking whether fops->iterate() is available
configure:38952: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:124:42: error: ‘struct dir_context’ declared inside parameter list [-Werror]
    int iterate(struct file *filp, struct dir_context * context)
                                          ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:124:42: error: its scope is only this definition or declaration, which is probably not what you want [-Werror]
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:129:5: error: unknown field ‘iterate’ specified in initializer
     .iterate  = iterate,
     ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:129:5: error: initialization from incompatible pointer type [-Werror]
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:129:5: error: (near initialization for ‘fops.owner’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:38955: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_MOUNT_NODEV 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| 
| 
| 			#include <linux/fs.h>
| 			int iterate(struct file *filp, struct dir_context * context)
| 			    { return 0; }
| 
| 			static const struct file_operations fops
| 			    __attribute__ ((unused)) = {
| 				.iterate	 = iterate,
| 			};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:38973: result: no
configure:38976: checking whether fops->readdir() is available
configure:39015: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:39018: $? = 0
configure:39020: test -s build/conftest.o
configure:39023: $? = 0
configure:39026: result: yes
configure:39059: checking whether fops->read/write_iter() are available
configure:39102: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:133:7: error: unknown field ‘read_iter’ specified in initializer
       .read_iter = test_read,
       ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:133:7: error: initialization from incompatible pointer type [-Werror]
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:133:7: error: (near initialization for ‘fops.owner’) [-Werror]
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:134:7: error: unknown field ‘write_iter’ specified in initializer
       .write_iter = test_write,
       ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:134:7: error: initialization from incompatible pointer type [-Werror]
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:134:7: error: (near initialization for ‘fops.llseek’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:39105: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_MOUNT_NODEV 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| #define HAVE_VFS_READDIR 1
| 
| 
| 		#include <linux/fs.h>
| 
| 		ssize_t test_read(struct kiocb *kiocb, struct iov_iter *to)
| 		    { return 0; }
| 		ssize_t test_write(struct kiocb *kiocb, struct iov_iter *from)
| 		    { return 0; }
| 
| 		static const struct file_operations
| 		    fops __attribute__ ((unused)) = {
| 		    .read_iter = test_read,
| 		    .write_iter = test_write,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:39188: result: no
configure:39198: checking whether generic_write_checks() takes kiocb
configure:39234: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:133:3: error: passing argument 1 of ‘generic_write_checks’ from incompatible pointer type [-Werror]
   generic_write_checks(iocb, iov);
   ^
In file included from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:124:0:
include/linux/fs.h:2881:5: note: expected ‘struct file *’ but argument is of type ‘struct kiocb *’
 int generic_write_checks(struct file *file, loff_t *pos, size_t *count, int isblk);
     ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:133:3: error: passing argument 2 of ‘generic_write_checks’ from incompatible pointer type [-Werror]
   generic_write_checks(iocb, iov);
   ^
In file included from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:124:0:
include/linux/fs.h:2881:5: note: expected ‘loff_t *’ but argument is of type ‘struct iov_iter *’
 int generic_write_checks(struct file *file, loff_t *pos, size_t *count, int isblk);
     ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:133:3: error: too few arguments to function ‘generic_write_checks’
   generic_write_checks(iocb, iov);
   ^
In file included from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:124:0:
include/linux/fs.h:2881:5: note: declared here
 int generic_write_checks(struct file *file, loff_t *pos, size_t *count, int isblk);
     ^
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:39237: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_MOUNT_NODEV 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| #define HAVE_VFS_READDIR 1
| 
| 
| 		#include <linux/fs.h>
| 
| 
| int
| main (void)
| {
| 
| 		struct kiocb *iocb = NULL;
| 		struct iov_iter *iov = NULL;
| 		generic_write_checks(iocb, iov);
| 
|   ;
|   return 0;
| }
| 
configure:39255: result: no
configure:39266: checking whether kmap_atomic wants 1 args
configure:39300: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:39303: $? = 0
configure:39305: test -s build/conftest.o
configure:39308: $? = 0
configure:39311: result: yes
configure:39332: checking whether follow_down_one() is available
configure:39366: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:39369: $? = 0
configure:39371: test -s build/conftest.o
configure:39374: $? = 0
configure:39377: result: yes
configure:39398: checking whether make_request_fn() returns int
configure:39436: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:137:3: error: passing argument 2 of ‘blk_queue_make_request’ from incompatible pointer type [-Werror]
   blk_queue_make_request(NULL, &make_request);
   ^
In file included from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:126:0:
include/linux/blkdev.h:1074:13: note: expected ‘void (*)(struct request_queue *, struct bio *)’ but argument is of type ‘int (*)(struct request_queue *, struct bio *)’
 extern void blk_queue_make_request(struct request_queue *, make_request_fn *);
             ^
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:39439: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_MOUNT_NODEV 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| #define HAVE_VFS_READDIR 1
| #define HAVE_1ARG_KMAP_ATOMIC 1
| #define HAVE_FOLLOW_DOWN_ONE 1
| 
| 
| 		#include <linux/blkdev.h>
| 
| 		int make_request(struct request_queue *q, struct bio *bio)
| 		{
| 			return (0);
| 		}
| 
| int
| main (void)
| {
| 
| 		blk_queue_make_request(NULL, &make_request);
| 
|   ;
|   return 0;
| }
| 
configure:39460: result: no
configure:39462: checking whether make_request_fn() returns void
configure:39500: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:39503: $? = 0
configure:39505: test -s build/conftest.o
configure:39508: $? = 0
configure:39511: result: yes
configure:39610: checking whether 3 arg generic IO accounting symbols are available
configure:39650: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:39653: $? = 0
configure:39655: test -s build/conftest.o
configure:39658: $? = 0
configure:39710: result: yes
configure:39721: checking whether 4 arg generic IO accounting symbols are available
configure:39761: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:131:44: error: initialization from incompatible pointer type [-Werror]
       unsigned long, struct hd_struct *) = &generic_start_io_acct;
                                            ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:133:44: error: initialization from incompatible pointer type [-Werror]
       struct hd_struct *, unsigned long) = &generic_end_io_acct;
                                            ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:139:3: error: passing argument 1 of ‘generic_start_io_acct’ makes integer from pointer without a cast [-Werror]
   generic_start_io_acct(NULL, 0, 0, NULL);
   ^
In file included from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:128:0:
include/linux/bio.h:291:6: note: expected ‘int’ but argument is of type ‘void *’
 void generic_start_io_acct(int rw, unsigned long sectors,
      ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:139:3: error: too many arguments to function ‘generic_start_io_acct’
   generic_start_io_acct(NULL, 0, 0, NULL);
   ^
In file included from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:128:0:
include/linux/bio.h:291:6: note: declared here
 void generic_start_io_acct(int rw, unsigned long sectors,
      ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:140:3: error: passing argument 1 of ‘generic_end_io_acct’ makes integer from pointer without a cast [-Werror]
   generic_end_io_acct(NULL, 0, NULL, 0);
   ^
In file included from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:128:0:
include/linux/bio.h:293:6: note: expected ‘int’ but argument is of type ‘void *’
 void generic_end_io_acct(int rw, struct hd_struct *part,
      ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:140:3: error: passing argument 3 of ‘generic_end_io_acct’ makes integer from pointer without a cast [-Werror]
   generic_end_io_acct(NULL, 0, NULL, 0);
   ^
In file included from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:128:0:
include/linux/bio.h:293:6: note: expected ‘long unsigned int’ but argument is of type ‘void *’
 void generic_end_io_acct(int rw, struct hd_struct *part,
      ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:140:3: error: too many arguments to function ‘generic_end_io_acct’
   generic_end_io_acct(NULL, 0, NULL, 0);
   ^
In file included from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:128:0:
include/linux/bio.h:293:6: note: declared here
 void generic_end_io_acct(int rw, struct hd_struct *part,
      ^
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:39764: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_MOUNT_NODEV 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| #define HAVE_VFS_READDIR 1
| #define HAVE_1ARG_KMAP_ATOMIC 1
| #define HAVE_FOLLOW_DOWN_ONE 1
| #define MAKE_REQUEST_FN_RET void
| #define HAVE_GENERIC_IO_ACCT_3ARG 1
| 
| 
| 		#include <linux/bio.h>
| 
| 		void (*generic_start_io_acct_f)(struct request_queue *, int,
| 		    unsigned long, struct hd_struct *) = &generic_start_io_acct;
| 		void (*generic_end_io_acct_f)(struct request_queue *, int,
| 		    struct hd_struct *, unsigned long) = &generic_end_io_acct;
| 
| int
| main (void)
| {
| 
| 		generic_start_io_acct(NULL, 0, 0, NULL);
| 		generic_end_io_acct(NULL, 0, NULL, 0);
| 
|   ;
|   return 0;
| }
| 
configure:39784: result: no
configure:39832: checking whether asm/fpu/api.h exists
configure:39866: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:129:27: fatal error: asm/fpu/api.h: No such file or directory
   #include <asm/fpu/api.h>
                           ^
compilation terminated.
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:39869: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_MOUNT_NODEV 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| #define HAVE_VFS_READDIR 1
| #define HAVE_1ARG_KMAP_ATOMIC 1
| #define HAVE_FOLLOW_DOWN_ONE 1
| #define MAKE_REQUEST_FN_RET void
| #define HAVE_GENERIC_IO_ACCT_3ARG 1
| 
| 
| 		#include <linux/kernel.h>
| 		#include <asm/fpu/api.h>
| 
| int
| main (void)
| {
| 
| 		__kernel_fpu_begin();
| 
|   ;
|   return 0;
| }
| 
configure:39887: result: no
configure:39898: checking whether i_(uid|gid)_(read|write) exist
configure:39932: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:39935: $? = 0
configure:39937: test -s build/conftest.o
configure:39940: $? = 0
configure:39943: result: yes
configure:39964: checking whether module_param_call() is hardened
configure:40009: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
In file included from include/linux/thread_info.h:11:0,
                 from include/linux/preempt.h:9,
                 from include/linux/spinlock.h:50,
                 from include/linux/seqlock.h:35,
                 from include/linux/time.h:5,
                 from include/linux/stat.h:18,
                 from include/linux/module.h:10,
                 from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:129:
include/linux/bug.h:36:45: error: passing argument 1 of ‘__check_old_set_param’ from incompatible pointer type [-Werror]
 #define BUILD_BUG_ON_ZERO(e) (sizeof(struct { int:-!!(e); }))
                                             ^
include/linux/moduleparam.h:179:2: note: in expansion of macro ‘BUILD_BUG_ON_ZERO’
  BUILD_BUG_ON_ZERO((perm) < 0 || (perm) > 0777 || ((perm) & 2)) \
  ^
include/linux/moduleparam.h:191:2: note: in expansion of macro ‘__module_param_call’
  __module_param_call(MODULE_PARAM_PREFIX,   \
  ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:142:3: note: in expansion of macro ‘module_param_call’
   module_param_call(p, param_set, param_get, NULL, 0644);
   ^
In file included from include/linux/module.h:17:0,
                 from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:129:
include/linux/moduleparam.h:197:1: note: expected ‘int (*)(const char *, struct kernel_param *)’ but argument is of type ‘int (*)(const char *, const struct kernel_param *)’
 __check_old_set_param(int (*oldset)(const char *, struct kernel_param *))
 ^
In file included from include/linux/thread_info.h:11:0,
                 from include/linux/preempt.h:9,
                 from include/linux/spinlock.h:50,
                 from include/linux/seqlock.h:35,
                 from include/linux/time.h:5,
                 from include/linux/stat.h:18,
                 from include/linux/module.h:10,
                 from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:129:
include/linux/bug.h:36:45: error: passing argument 1 of ‘__check_old_set_param’ from incompatible pointer type [-Werror]
 #define BUILD_BUG_ON_ZERO(e) (sizeof(struct { int:-!!(e); }))
                                             ^
include/linux/moduleparam.h:179:2: note: in expansion of macro ‘BUILD_BUG_ON_ZERO’
  BUILD_BUG_ON_ZERO((perm) < 0 || (perm) > 0777 || ((perm) & 2)) \
  ^
include/linux/moduleparam.h:191:2: note: in expansion of macro ‘__module_param_call’
  __module_param_call(MODULE_PARAM_PREFIX,   \
  ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:142:3: note: in expansion of macro ‘module_param_call’
   module_param_call(p, param_set, param_get, NULL, 0644);
   ^
In file included from include/linux/module.h:17:0,
                 from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:129:
include/linux/moduleparam.h:197:1: note: expected ‘int (*)(const char *, struct kernel_param *)’ but argument is of type ‘int (*)(const char *, const struct kernel_param *)’
 __check_old_set_param(int (*oldset)(const char *, struct kernel_param *))
 ^
In file included from include/linux/thread_info.h:11:0,
                 from include/linux/preempt.h:9,
                 from include/linux/spinlock.h:50,
                 from include/linux/seqlock.h:35,
                 from include/linux/time.h:5,
                 from include/linux/stat.h:18,
                 from include/linux/module.h:10,
                 from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:129:
include/linux/bug.h:36:45: error: passing argument 1 of ‘__check_old_set_param’ from incompatible pointer type [-Werror]
 #define BUILD_BUG_ON_ZERO(e) (sizeof(struct { int:-!!(e); }))
                                             ^
include/linux/moduleparam.h:179:2: note: in expansion of macro ‘BUILD_BUG_ON_ZERO’
  BUILD_BUG_ON_ZERO((perm) < 0 || (perm) > 0777 || ((perm) & 2)) \
  ^
include/linux/moduleparam.h:191:2: note: in expansion of macro ‘__module_param_call’
  __module_param_call(MODULE_PARAM_PREFIX,   \
  ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:142:3: note: in expansion of macro ‘module_param_call’
   module_param_call(p, param_set, param_get, NULL, 0644);
   ^
In file included from include/linux/module.h:17:0,
                 from /home/zfs/z_sm4/zfs_hmx/build/conftest.c:129:
include/linux/moduleparam.h:197:1: note: expected ‘int (*)(const char *, struct kernel_param *)’ but argument is of type ‘int (*)(const char *, const struct kernel_param *)’
 __check_old_set_param(int (*oldset)(const char *, struct kernel_param *))
 ^
include/linux/moduleparam.h:182:16: error: passing argument 1 of ‘__check_old_set_param’ from incompatible pointer type [-Werror]
  static struct kernel_param __moduleparam_const __param_##name \
                ^
include/linux/moduleparam.h:191:2: note: in expansion of macro ‘__module_param_call’
  __module_param_call(MODULE_PARAM_PREFIX,   \
  ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:142:3: note: in expansion of macro ‘module_param_call’
   module_param_call(p, param_set, param_get, NULL, 0644);
   ^
include/linux/moduleparam.h:197:1: note: expected ‘int (*)(const char *, struct kernel_param *)’ but argument is of type ‘int (*)(const char *, const struct kernel_param *)’
 __check_old_set_param(int (*oldset)(const char *, struct kernel_param *))
 ^
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:40012: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_MOUNT_NODEV 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| #define HAVE_VFS_READDIR 1
| #define HAVE_1ARG_KMAP_ATOMIC 1
| #define HAVE_FOLLOW_DOWN_ONE 1
| #define MAKE_REQUEST_FN_RET void
| #define HAVE_GENERIC_IO_ACCT_3ARG 1
| #define HAVE_KUID_HELPERS 1
| 
| 
| 		#include <linux/module.h>
| 		#include <linux/moduleparam.h>
| 
| 		int param_get(char *b, const struct kernel_param *kp)
| 		{
| 			return (0);
| 		}
| 
| 		int param_set(const char *b, const struct kernel_param *kp)
| 		{
| 			return (0);
| 		}
| 
| 		module_param_call(p, param_set, param_get, NULL, 0644);
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:40030: result: no
configure:40041: checking whether iops->rename() wants flags
configure:40081: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:136:4: error: initialization from incompatible pointer type [-Werror]
    .rename = rename_fn,
    ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:136:4: error: (near initialization for ‘iops.rename’) [-Werror]
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:40084: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_MOUNT_NODEV 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| #define HAVE_VFS_READDIR 1
| #define HAVE_1ARG_KMAP_ATOMIC 1
| #define HAVE_FOLLOW_DOWN_ONE 1
| #define MAKE_REQUEST_FN_RET void
| #define HAVE_GENERIC_IO_ACCT_3ARG 1
| #define HAVE_KUID_HELPERS 1
| 
| 
| 		#include <linux/fs.h>
| 		int rename_fn(struct inode *sip, struct dentry *sdp,
| 			struct inode *tip, struct dentry *tdp,
| 			unsigned int flags) { return 0; }
| 
| 		static const struct inode_operations
| 		    iops __attribute__ ((unused)) = {
| 			.rename = rename_fn,
| 		};
| 
| int
| main (void)
| {
| 
| 
|   ;
|   return 0;
| }
| 
configure:40102: result: no
configure:40113: checking whether generic_setxattr() exists
configure:40151: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
configure:40154: $? = 0
configure:40156: test -s build/conftest.o
configure:40159: $? = 0
configure:40162: result: yes
configure:40182: checking whether current_time() exists
configure:40219: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:139:3: error: implicit declaration of function ‘current_time’ [-Werror=implicit-function-declaration]
   now = current_time(&ip);
   ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:139:7: error: incompatible types when assigning to type ‘struct timespec’ from type ‘int’
   now = current_time(&ip);
       ^
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:40222: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_MOUNT_NODEV 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| #define HAVE_VFS_READDIR 1
| #define HAVE_1ARG_KMAP_ATOMIC 1
| #define HAVE_FOLLOW_DOWN_ONE 1
| #define MAKE_REQUEST_FN_RET void
| #define HAVE_GENERIC_IO_ACCT_3ARG 1
| #define HAVE_KUID_HELPERS 1
| #define HAVE_GENERIC_SETXATTR 1
| 
| 
| 		#include <linux/fs.h>
| 
| int
| main (void)
| {
| 
| 		struct inode ip;
| 		struct timespec now __attribute__ ((unused));
| 
| 		now = current_time(&ip);
| 
|   ;
|   return 0;
| }
| 
configure:40242: result: no
configure:40290: checking whether to use vm_node_stat based fn's
configure:40327: cp conftest.c conftest.h build && make modules -C /home/stor/linux-3.10.0-693.el7 EXTRA_CFLAGS=-Werror   M=/home/zfs/z_sm4/zfs_hmx/build 
/home/zfs/z_sm4/zfs_hmx/build/conftest.c: In function ‘main’:
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:137:37: error: ‘NR_VM_NODE_STAT_ITEMS’ undeclared (first use in this function)
    int a __attribute__ ((unused)) = NR_VM_NODE_STAT_ITEMS;
                                     ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:137:37: note: each undeclared identifier is reported only once for each function it appears in
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:139:23: error: ‘vm_node_stat’ undeclared (first use in this function)
     atomic_long_read(&vm_node_stat[0]);
                       ^
/home/zfs/z_sm4/zfs_hmx/build/conftest.c:140:4: error: implicit declaration of function ‘global_node_page_state’ [-Werror=implicit-function-declaration]
    (void) global_node_page_state(0);
    ^
cc1: all warnings being treated as errors
make[1]: *** [/home/zfs/z_sm4/zfs_hmx/build/conftest.o] Error 1
make: *** [_module_/home/zfs/z_sm4/zfs_hmx/build] Error 2
configure:40330: $? = 2
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "zfs"
| #define PACKAGE_TARNAME "zfs"
| #define PACKAGE_VERSION "0.7.0"
| #define PACKAGE_STRING "zfs 0.7.0"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define ZFS_META_NAME "zfs"
| #define ZFS_META_VERSION "0.7.0"
| #define ZFS_META_RELEASE "1"
| #define ZFS_META_LICENSE "CDDL"
| #define ZFS_META_ALIAS "zfs-0.7.0-1"
| #define ZFS_META_AUTHOR "OpenZFS on Linux"
| #define PACKAGE "zfs"
| #define VERSION "0.7.0"
| #define STDC_HEADERS 1
| #define HAVE_SYS_TYPES_H 1
| #define HAVE_SYS_STAT_H 1
| #define HAVE_STDLIB_H 1
| #define HAVE_STRING_H 1
| #define HAVE_MEMORY_H 1
| #define HAVE_STRINGS_H 1
| #define HAVE_INTTYPES_H 1
| #define HAVE_STDINT_H 1
| #define HAVE_UNISTD_H 1
| #define HAVE_DLFCN_H 1
| #define LT_OBJDIR ".libs/"
| #define HAVE_SSE 1
| #define HAVE_SSE2 1
| #define HAVE_SSE3 1
| #define HAVE_SSSE3 1
| #define HAVE_SSE4_1 1
| #define HAVE_SSE4_2 1
| #define HAVE_AVX 1
| #define HAVE_AVX2 1
| #define HAVE_AVX512F 1
| #define HAVE_AVX512CD 1
| #define HAVE_AVX512DQ 1
| #define HAVE_AVX512BW 1
| #define HAVE_AVX512IFMA 1
| #define HAVE_AVX512VBMI 1
| #define HAVE_AVX512PF 1
| #define HAVE_AVX512ER 1
| #define HAVE_AVX512VL 1
| #define HAVE_ZLIB 1
| #define HAVE_LIBUUID 1
| #define HAVE_LIBBLKID 1
| #define HAVE_LIBATTR 1
| #define HAVE_LIBSSL 1
| #define HAVE_MAKEDEV_IN_SYSMACROS 1
| #define HAVE_MLOCKALL 1
| #define HAVE_KERNEL_OBJTOOL 1
| #define HAVE_LARGE_STACKS 1
| #define HAVE_CURRENT_BIO_LIST 1
| #define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
| #define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
| #define HAVE_FMODE_T 1
| #define HAVE_3ARG_BLKDEV_GET 1
| #define HAVE_BLKDEV_GET_BY_PATH 1
| #define HAVE_1ARG_LOOKUP_BDEV 1
| #define HAVE_1ARG_INVALIDATE_BDEV 1
| #define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
| #define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
| #define HAVE_REQ_FAILFAST_MASK 1
| #define HAVE_BLK_QUEUE_FLUSH 1
| #define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
| #define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
| #define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
| #define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
| #define HAVE_GET_DISK_RO 1
| #define HAVE_GET_GENDISK 1
| #define HAVE_BIO_SET_OP_ATTRS 1
| #define HAVE_GENERIC_READLINK 1
| #define HAVE_DISCARD_GRANULARITY 1
| #define HAVE_CONST_XATTR_HANDLER 1
| #define HAVE_XATTR_GET_DENTRY 1
| #define HAVE_XATTR_SET_DENTRY 1
| #define HAVE_XATTR_LIST_DENTRY 1
| #define HAVE_INODE_OWNER_OR_CAPABLE 1
| #define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
| #define HAVE_POSIX_ACL_RELEASE 1
| #define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
| #define HAVE_POSIX_ACL_CHMOD 1
| #define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
| #define HAVE_PERMISSION 1
| #define HAVE_GET_ACL 1
| #define HAVE_VFSMOUNT_IOPS_GETATTR 1
| #define HAVE_INODE_SET_FLAGS 1
| #define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
| #define HAVE_FILE_INODE 1
| #define HAVE_FILE_DENTRY 1
| #define HAVE_FSYNC_RANGE 1
| #define HAVE_EVICT_INODE 1
| #define HAVE_DIRTY_INODE_WITH_FLAGS 1
| #define HAVE_NR_CACHED_OBJECTS 1
| #define HAVE_FREE_CACHED_OBJECTS 1
| #define HAVE_FILE_FALLOCATE 1
| #define HAVE_FILE_AIO_FSYNC 1
| #define HAVE_MKDIR_UMODE_T 1
| #define HAVE_FOLLOW_LINK_NAMEIDATA 1
| #define HAVE_PUT_LINK_NAMEIDATA 1
| #define HAVE_AUTOMOUNT 1
| #define HAVE_ENCODE_FH_WITH_INODE 1
| #define HAVE_COMMIT_METADATA 1
| #define HAVE_CLEAR_INODE 1
| #define HAVE_INSERT_INODE_LOCKED 1
| #define HAVE_D_MAKE_ROOT 1
| #define HAVE_D_OBTAIN_ALIAS 1
| #define HAVE_D_PRUNE_ALIASES 1
| #define HAVE_D_SET_D_OP 1
| #define HAVE_CONST_DENTRY_OPERATIONS 1
| #define HAVE_TRUNCATE_SETSIZE 1
| #define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
| #define HAVE_MOUNT_NODEV 1
| #define HAVE_SHRINK 1
| #define HAVE_S_D_OP 1
| #define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
| #define HAVE_SET_NLINK 1
| #define HAVE_ELEVATOR_CHANGE 1
| #define HAVE_5ARG_SGET 1
| #define HAVE_VFS_READDIR 1
| #define HAVE_1ARG_KMAP_ATOMIC 1
| #define HAVE_FOLLOW_DOWN_ONE 1
| #define MAKE_REQUEST_FN_RET void
| #define HAVE_GENERIC_IO_ACCT_3ARG 1
| #define HAVE_KUID_HELPERS 1
| #define HAVE_GENERIC_SETXATTR 1
| 
| 
| 		#include <linux/mm.h>
| 		#include <linux/vmstat.h>
| 
| int
| main (void)
| {
| 
| 			int a __attribute__ ((unused)) = NR_VM_NODE_STAT_ITEMS;
| 			long x __attribute__ ((unused)) =
| 				atomic_long_read(&vm_node_stat[0]);
| 			(void) global_node_page_state(0);
| 
|   ;
|   return 0;
| }
| 
configure:40348: result: no
configure:40420: checking whether assertion support will be enabled
configure:40456: result: no
configure:40460: checking whether debuginfo support will be forced
configure:40495: result: no
configure:40616: checking that generated files are newer than configure
configure:40622: result: done
configure:40681: creating ./config.status

## ---------------------- ##
## Running config.status. ##
## ---------------------- ##

This file was extended by zfs config.status 0.7.0, which was
generated by GNU Autoconf 2.69.  Invocation command line was

  CONFIG_FILES    = 
  CONFIG_HEADERS  = 
  CONFIG_LINKS    = 
  CONFIG_COMMANDS = 
  $ ./config.status 

on localhost.localdomain

config.status:1658: creating Makefile
config.status:1658: creating udev/Makefile
config.status:1658: creating udev/rules.d/Makefile
config.status:1658: creating etc/Makefile
config.status:1658: creating etc/init.d/Makefile
config.status:1658: creating etc/zfs/Makefile
config.status:1658: creating etc/systemd/Makefile
config.status:1658: creating etc/systemd/system/Makefile
config.status:1658: creating etc/sudoers.d/Makefile
config.status:1658: creating etc/modules-load.d/Makefile
config.status:1658: creating man/Makefile
config.status:1658: creating man/man1/Makefile
config.status:1658: creating man/man5/Makefile
config.status:1658: creating man/man8/Makefile
config.status:1658: creating lib/Makefile
config.status:1658: creating lib/libspl/Makefile
config.status:1658: creating lib/libspl/asm-generic/Makefile
config.status:1658: creating lib/libspl/asm-i386/Makefile
config.status:1658: creating lib/libspl/asm-x86_64/Makefile
config.status:1658: creating lib/libspl/include/Makefile
config.status:1658: creating lib/libspl/include/ia32/Makefile
config.status:1658: creating lib/libspl/include/ia32/sys/Makefile
config.status:1658: creating lib/libspl/include/rpc/Makefile
config.status:1658: creating lib/libspl/include/sys/Makefile
config.status:1658: creating lib/libspl/include/sys/dktp/Makefile
config.status:1658: creating lib/libspl/include/util/Makefile
config.status:1658: creating lib/libavl/Makefile
config.status:1658: creating lib/libefi/Makefile
config.status:1658: creating lib/libicp/Makefile
config.status:1658: creating lib/libnvpair/Makefile
config.status:1658: creating lib/libtpool/Makefile
config.status:1658: creating lib/libunicode/Makefile
config.status:1658: creating lib/libuutil/Makefile
config.status:1658: creating lib/libzpool/Makefile
config.status:1658: creating lib/libzfs/libzfs.pc
config.status:1658: creating lib/libzfs/libzfs_core.pc
config.status:1658: creating lib/libzfs/Makefile
config.status:1658: creating lib/libzfs_core/Makefile
config.status:1658: creating lib/libshare/Makefile
config.status:1658: creating cmd/Makefile
config.status:1658: creating cmd/zdb/Makefile
config.status:1658: creating cmd/zhack/Makefile
config.status:1658: creating cmd/zfs/Makefile
config.status:1658: creating cmd/zinject/Makefile
config.status:1658: creating cmd/zpool/Makefile
config.status:1658: creating cmd/zstreamdump/Makefile
config.status:1658: creating cmd/ztest/Makefile
config.status:1658: creating cmd/mount_zfs/Makefile
config.status:1658: creating cmd/fsck_zfs/Makefile
config.status:1658: creating cmd/zvol_id/Makefile
config.status:1658: creating cmd/vdev_id/Makefile
config.status:1658: creating cmd/arcstat/Makefile
config.status:1658: creating cmd/dbufstat/Makefile
config.status:1658: creating cmd/arc_summary/Makefile
config.status:1658: creating cmd/zed/Makefile
config.status:1658: creating cmd/raidz_test/Makefile
config.status:1658: creating cmd/zgenhostid/Makefile
config.status:1658: creating contrib/Makefile
config.status:1658: creating contrib/bash_completion.d/Makefile
config.status:1658: creating contrib/dracut/Makefile
config.status:1658: creating contrib/dracut/02zfsexpandknowledge/Makefile
config.status:1658: creating contrib/dracut/90zfs/Makefile
config.status:1658: creating contrib/initramfs/Makefile
config.status:1658: creating module/Makefile
config.status:1658: creating module/avl/Makefile
config.status:1658: creating module/nvpair/Makefile
config.status:1658: creating module/unicode/Makefile
config.status:1658: creating module/zcommon/Makefile
config.status:1658: creating module/zfs/Makefile
config.status:1658: creating module/icp/Makefile
config.status:1658: creating include/Makefile
config.status:1658: creating include/linux/Makefile
config.status:1658: creating include/sys/Makefile
config.status:1658: creating include/sys/fs/Makefile
config.status:1658: creating include/sys/fm/Makefile
config.status:1658: creating include/sys/fm/fs/Makefile
config.status:1658: creating include/sys/crypto/Makefile
config.status:1658: creating include/sys/sysevent/Makefile
config.status:1658: creating scripts/Makefile
config.status:1658: creating tests/Makefile
config.status:1658: creating tests/test-runner/Makefile
config.status:1658: creating tests/test-runner/bin/Makefile
config.status:1658: creating tests/test-runner/include/Makefile
config.status:1658: creating tests/test-runner/man/Makefile
config.status:1658: creating tests/runfiles/Makefile
config.status:1658: creating tests/zfs-tests/Makefile
config.status:1658: creating tests/zfs-tests/callbacks/Makefile
config.status:1658: creating tests/zfs-tests/cmd/Makefile
config.status:1658: creating tests/zfs-tests/cmd/chg_usr_exec/Makefile
config.status:1658: creating tests/zfs-tests/cmd/devname2devid/Makefile
config.status:1658: creating tests/zfs-tests/cmd/dir_rd_update/Makefile
config.status:1658: creating tests/zfs-tests/cmd/file_check/Makefile
config.status:1658: creating tests/zfs-tests/cmd/file_trunc/Makefile
config.status:1658: creating tests/zfs-tests/cmd/file_write/Makefile
config.status:1658: creating tests/zfs-tests/cmd/largest_file/Makefile
config.status:1658: creating tests/zfs-tests/cmd/mkbusy/Makefile
config.status:1658: creating tests/zfs-tests/cmd/mkfile/Makefile
config.status:1658: creating tests/zfs-tests/cmd/mkfiles/Makefile
config.status:1658: creating tests/zfs-tests/cmd/mktree/Makefile
config.status:1658: creating tests/zfs-tests/cmd/mmap_exec/Makefile
config.status:1658: creating tests/zfs-tests/cmd/mmapwrite/Makefile
config.status:1658: creating tests/zfs-tests/cmd/randfree_file/Makefile
config.status:1658: creating tests/zfs-tests/cmd/readmmap/Makefile
config.status:1658: creating tests/zfs-tests/cmd/rename_dir/Makefile
config.status:1658: creating tests/zfs-tests/cmd/rm_lnkcnt_zero_file/Makefile
config.status:1658: creating tests/zfs-tests/cmd/threadsappend/Makefile
config.status:1658: creating tests/zfs-tests/cmd/xattrtest/Makefile
config.status:1658: creating tests/zfs-tests/include/Makefile
config.status:1658: creating tests/zfs-tests/include/default.cfg
config.status:1658: creating tests/zfs-tests/tests/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/acl/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/acl/posix/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/atime/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/bootfs/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cache/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cachefile/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/casenorm/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/checksum/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/chattr/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/clean_mirror/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zdb/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_bookmark/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_change-key/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_clone/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_copies/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_create/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_destroy/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_diff/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_get/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_inherit/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_load-key/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_mount/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_promote/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_property/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_receive/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_rename/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_reservation/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_rollback/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_send/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_set/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_share/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_snapshot/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_unload-key/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_unmount/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_unshare/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zfs_upgrade/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_add/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_attach/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_clear/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_create/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_destroy/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_detach/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_expand/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_export/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_get/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_history/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_import/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_labelclear/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_offline/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_online/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_remove/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_replace/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_scrub/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_set/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_status/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_sync/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_root/zpool_upgrade/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_user/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_user/misc/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_user/zfs_list/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_user/zpool_iostat/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/cli_user/zpool_list/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/compression/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/ctime/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/delegate/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/devices/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/events/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/exec/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/fault/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/features/async_destroy/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/features/large_dnode/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/features/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/grow_pool/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/grow_replicas/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/history/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/hkdf/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/inheritance/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/inuse/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/large_files/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/largest_pool/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/link_count/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/libzfs/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/migration/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/mmap/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/mmp/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/mount/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/mv_files/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/nestedfs/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/no_space/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/nopwrite/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/online_offline/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/pool_names/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/poolversion/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/privilege/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/quota/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/raidz/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/redundancy/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/refquota/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/refreserv/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/rename_dirs/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/replacement/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/reservation/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/rootpool/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/rsend/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/scrub_mirror/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/slog/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/snapshot/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/snapused/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/sparse/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/threadsappend/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/tmpfile/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/truncate/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/userquota/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/upgrade/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/vdev_zaps/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/write_dirs/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/xattr/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/zvol/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/zvol/zvol_cli/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/zvol/zvol_ENOSPC/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/zvol/zvol_misc/Makefile
config.status:1658: creating tests/zfs-tests/tests/functional/zvol/zvol_swap/Makefile
config.status:1658: creating tests/zfs-tests/tests/perf/Makefile
config.status:1658: creating tests/zfs-tests/tests/perf/fio/Makefile
config.status:1658: creating tests/zfs-tests/tests/perf/regression/Makefile
config.status:1658: creating tests/zfs-tests/tests/perf/scripts/Makefile
config.status:1658: creating tests/zfs-tests/tests/stress/Makefile
config.status:1658: creating rpm/Makefile
config.status:1658: creating rpm/redhat/Makefile
config.status:1658: creating rpm/redhat/zfs.spec
config.status:1658: creating rpm/redhat/zfs-kmod.spec
config.status:1658: creating rpm/redhat/zfs-dkms.spec
config.status:1658: creating rpm/generic/Makefile
config.status:1658: creating rpm/generic/zfs.spec
config.status:1658: creating rpm/generic/zfs-kmod.spec
config.status:1658: creating rpm/generic/zfs-dkms.spec
config.status:1658: creating zfs.release
config.status:1658: creating zfs_config.h
config.status:1887: executing depfiles commands
config.status:1887: executing libtool commands

## ---------------- ##
## Cache variables. ##
## ---------------- ##

ac_cv_build=x86_64-unknown-linux-gnu
ac_cv_c_compiler_gnu=yes
ac_cv_env_CCASFLAGS_set=
ac_cv_env_CCASFLAGS_value=
ac_cv_env_CCAS_set=
ac_cv_env_CCAS_value=
ac_cv_env_CC_set=
ac_cv_env_CC_value=
ac_cv_env_CFLAGS_set=
ac_cv_env_CFLAGS_value=
ac_cv_env_CPPFLAGS_set=
ac_cv_env_CPPFLAGS_value=
ac_cv_env_CPP_set=
ac_cv_env_CPP_value=
ac_cv_env_LDFLAGS_set=
ac_cv_env_LDFLAGS_value=
ac_cv_env_LIBS_set=
ac_cv_env_LIBS_value=
ac_cv_env_build_alias_set=
ac_cv_env_build_alias_value=
ac_cv_env_host_alias_set=
ac_cv_env_host_alias_value=
ac_cv_env_target_alias_set=
ac_cv_env_target_alias_value=
ac_cv_func_mlockall=yes
ac_cv_header_attr_xattr_h=yes
ac_cv_header_blkid_blkid_h=yes
ac_cv_header_dlfcn_h=yes
ac_cv_header_inttypes_h=yes
ac_cv_header_libudev_h=no
ac_cv_header_memory_h=yes
ac_cv_header_openssl_evp_h=yes
ac_cv_header_stdc=yes
ac_cv_header_stdint_h=yes
ac_cv_header_stdlib_h=yes
ac_cv_header_string_h=yes
ac_cv_header_strings_h=yes
ac_cv_header_sys_stat_h=yes
ac_cv_header_sys_types_h=yes
ac_cv_header_unistd_h=yes
ac_cv_header_uuid_uuid_h=yes
ac_cv_header_zlib_h=yes
ac_cv_host=x86_64-unknown-linux-gnu
ac_cv_lib_tirpc_xdrmem_create=no
ac_cv_objext=o
ac_cv_path_EGREP='/usr/bin/grep -E'
ac_cv_path_FGREP='/usr/bin/grep -F'
ac_cv_path_GREP=/usr/bin/grep
ac_cv_path_SED=/usr/bin/sed
ac_cv_path_install='/usr/bin/install -c'
ac_cv_path_mkdir=/usr/bin/mkdir
ac_cv_prog_AWK=gawk
ac_cv_prog_CPP='gcc -E'
ac_cv_prog_ac_ct_AR=ar
ac_cv_prog_ac_ct_CC=gcc
ac_cv_prog_ac_ct_OBJDUMP=objdump
ac_cv_prog_ac_ct_RANLIB=ranlib
ac_cv_prog_ac_ct_STRIP=strip
ac_cv_prog_cc_c89=
ac_cv_prog_cc_g=yes
ac_cv_prog_cc_gcc_c_o=yes
ac_cv_prog_make_make_set=yes
ac_cv_search_compress2=-lz
ac_cv_search_crc32='none required'
ac_cv_search_udev_device_get_is_initialized=no
ac_cv_search_uncompress='none required'
ac_cv_search_uuid_generate=-luuid
ac_cv_search_uuid_is_null='none required'
ac_cv_search_xdrmem_create='none required'
ac_cv_target=x86_64-unknown-linux-gnu
am_cv_CCAS_dependencies_compiler_type=gcc3
am_cv_CC_dependencies_compiler_type=gcc3
am_cv_make_support_nested_variables=yes
lt_cv_ar_at_file=@
lt_cv_archive_cmds_need_lc=no
lt_cv_deplibs_check_method=pass_all
lt_cv_file_magic_cmd='$MAGIC_CMD'
lt_cv_file_magic_test_file=
lt_cv_ld_reload_flag=-r
lt_cv_nm_interface='BSD nm'
lt_cv_objdir=.libs
lt_cv_path_LD=/usr/bin/ld
lt_cv_path_NM='/usr/bin/nm -B'
lt_cv_path_mainfest_tool=no
lt_cv_prog_compiler_c_o=yes
lt_cv_prog_compiler_pic='-fPIC -DPIC'
lt_cv_prog_compiler_pic_works=yes
lt_cv_prog_compiler_rtti_exceptions=no
lt_cv_prog_compiler_static_works=no
lt_cv_prog_gnu_ld=yes
lt_cv_sharedlib_from_linklib_cmd='printf %s\n'
lt_cv_shlibpath_overrides_runpath=no
lt_cv_sys_global_symbol_pipe='sed -n -e '\''s/^.*[	 ]\([ABCDGIRSTW][ABCDGIRSTW]*\)[	 ][	 ]*\([_A-Za-z][_A-Za-z0-9]*\)$/\1 \2 \2/p'\'' | sed '\''/ __gnu_lto/d'\'''
lt_cv_sys_global_symbol_to_c_name_address='sed -n -e '\''s/^: \([^ ]*\)[ ]*$/  {\"\1\", (void *) 0},/p'\'' -e '\''s/^[ABCDGIRSTW]* \([^ ]*\) \([^ ]*\)$/  {"\2", (void *) \&\2},/p'\'''
lt_cv_sys_global_symbol_to_c_name_address_lib_prefix='sed -n -e '\''s/^: \([^ ]*\)[ ]*$/  {\"\1\", (void *) 0},/p'\'' -e '\''s/^[ABCDGIRSTW]* \([^ ]*\) \(lib[^ ]*\)$/  {"\2", (void *) \&\2},/p'\'' -e '\''s/^[ABCDGIRSTW]* \([^ ]*\) \([^ ]*\)$/  {"lib\2", (void *) \&\2},/p'\'''
lt_cv_sys_global_symbol_to_cdecl='sed -n -e '\''s/^T .* \(.*\)$/extern int \1();/p'\'' -e '\''s/^[ABCDGIRSTW]* .* \(.*\)$/extern char \1;/p'\'''
lt_cv_sys_max_cmd_len=1572864
lt_cv_to_host_file_cmd=func_convert_file_noop
lt_cv_to_tool_file_cmd=func_convert_file_noop

## ----------------- ##
## Output variables. ##
## ----------------- ##














	@echo "Need to reconfigure with --enable-code-coverage"
	@echo "Need to reconfigure with --enable-code-coverage"
 $(CODE_COVERAGE_IGNORE_PATTERN);
 $(CODE_COVERAGE_OUTPUT_FILE);
#
#
#    $(PACKAGE_NAME)-$(PACKAGE_VERSION)-coverage)
#    $(PACKAGE_NAME)-$(PACKAGE_VERSION)-coverage.info)
#    (Default: $(top_builddir))
#    (Default: empty)
#    Multiple directories may be specified, separated by whitespace.
#    by lcov for code coverage. (Default:
#    collecting lcov instance. (Default: $CODE_COVERAGE_LCOV_OPTIONS_GCOVPATH)
#    genhtml instance. (Default: based on $CODE_COVERAGE_BRANCH_COVERAGE)
#    instance. (Default: $CODE_COVERAGE_GENHTML_OPTIONS_DEFAULT)
#    instance. (Default: $CODE_COVERAGE_LCOV_OPTIONS_DEFAULT)
#    instance. (Default: $CODE_COVERAGE_LCOV_RMOPTS_DEFAULT)
#    instances. (Default: $CODE_COVERAGE_LCOV_SHOPTS_DEFAULT)
#    instances. (Default: based on $CODE_COVERAGE_BRANCH_COVERAGE)
#    lcov instance. (Default: empty)
#    reports to be created. (Default:
#    set to 0 to disable it and leave empty to stay with the default.
#  - CODE_COVERAGE_BRANCH_COVERAGE: Set to 1 to enforce branch coverage,
#  - CODE_COVERAGE_DIRECTORY: Top-level directory for code coverage reporting.
#  - CODE_COVERAGE_GENHTML_OPTIONS: Extra options to pass to the genhtml
#  - CODE_COVERAGE_GENHTML_OPTIONS_DEFAULT: Extra options to pass to the
#  - CODE_COVERAGE_IGNORE_PATTERN: Extra glob pattern of files to ignore
#  - CODE_COVERAGE_LCOV_OPTIONS: Extra options to pass to the collecting lcov
#  - CODE_COVERAGE_LCOV_OPTIONS_DEFAULT: Extra options to pass to the
#  - CODE_COVERAGE_LCOV_OPTIONS_GCOVPATH: --gcov-tool pathtogcov
#  - CODE_COVERAGE_LCOV_RMOPTS: Extra options to pass to the filtering lcov
#  - CODE_COVERAGE_LCOV_RMOPTS_DEFAULT: Extra options to pass to the filtering
#  - CODE_COVERAGE_LCOV_SHOPTS: Extra options to shared between both lcov
#  - CODE_COVERAGE_LCOV_SHOPTS_DEFAULT: Extra options shared between both lcov
#  - CODE_COVERAGE_OUTPUT_DIRECTORY: Directory for generated code coverage
#  - CODE_COVERAGE_OUTPUT_FILE: Filename and path for the .info file generated
# $(PACKAGE_VERSION). In order to add the current git hash to the title,
# Capture code coverage data
# Code coverage
# Hook rule executed before code-coverage-capture, overridable by the user
# Optional variables
# Optional:
# The generated report will be titled using the $(PACKAGE_NAME) and
# Use recursive makes in order to ignore errors during check
# sanitizes the test-name: replaces with underscores: dashes and dots
# use the git-version-gen script, available online.
$(if $(CODE_COVERAGE_BRANCH_COVERAGE),\
'
--rc genhtml_branch_coverage=$(CODE_COVERAGE_BRANCH_COVERAGE))
--rc lcov_branch_coverage=$(CODE_COVERAGE_BRANCH_COVERAGE))
.PHONY: check-code-coverage code-coverage-capture code-coverage-capture-hook code-coverage-clean
ACLOCAL='${SHELL} /home/zfs/z_sm4/zfs_hmx/config/missing aclocal-1.13'
ALIEN='alien'
ALIEN_VERSION=''
AMDEPBACKSLASH='\'
AMDEP_FALSE='#'
AMDEP_TRUE=''
AMTAR='$${TAR-tar}'
AM_BACKSLASH='\'
AM_DEFAULT_V='$(AM_DEFAULT_VERBOSITY)'
AM_DEFAULT_VERBOSITY='0'
AM_DISTCHECK_CONFIGURE_FLAGS += --disable-code-coverage
AM_DISTCHECK_CONFIGURE_FLAGS ?=
AM_V='$(V)'
AR='ar'
AUTOCONF='${SHELL} /home/zfs/z_sm4/zfs_hmx/config/missing autoconf'
AUTOHEADER='${SHELL} /home/zfs/z_sm4/zfs_hmx/config/missing autoheader'
AUTOMAKE='${SHELL} /home/zfs/z_sm4/zfs_hmx/config/missing automake-1.13'
AWK='gawk'
CC='gcc'
CCAS='gcc'
CCASDEPMODE='depmode=gcc3'
CCASFLAGS='-g -O2'
CCDEPMODE='depmode=gcc3'
CFLAGS='-g -O2'
CODE_COVERAGE_BRANCH_COVERAGE ?=
CODE_COVERAGE_CFLAGS=''
CODE_COVERAGE_CPPFLAGS=''
CODE_COVERAGE_CXXFLAGS=''
CODE_COVERAGE_DIRECTORY ?= $(top_builddir)
CODE_COVERAGE_ENABLED='no'
CODE_COVERAGE_ENABLED_FALSE=''
CODE_COVERAGE_ENABLED_TRUE='#'
CODE_COVERAGE_GENHTML_OPTIONS ?= $(CODE_COVERAGE_GENHTML_OPTIONS_DEFAULT)
CODE_COVERAGE_GENHTML_OPTIONS_DEFAULT ?=\
CODE_COVERAGE_IGNORE_PATTERN ?=
CODE_COVERAGE_LCOV_OPTIONS ?= $(CODE_COVERAGE_LCOV_OPTIONS_DEFAULT)
CODE_COVERAGE_LCOV_OPTIONS_DEFAULT ?= $(CODE_COVERAGE_LCOV_OPTIONS_GCOVPATH)
CODE_COVERAGE_LCOV_OPTIONS_GCOVPATH ?= --gcov-tool "$(GCOV)"
CODE_COVERAGE_LCOV_RMOPTS ?= $(CODE_COVERAGE_LCOV_RMOPTS_DEFAULT)
CODE_COVERAGE_LCOV_RMOPTS_DEFAULT ?=
CODE_COVERAGE_LCOV_SHOPTS ?= $(CODE_COVERAGE_LCOV_SHOPTS_DEFAULT)
CODE_COVERAGE_LCOV_SHOPTS_DEFAULT ?= $(if $(CODE_COVERAGE_BRANCH_COVERAGE),\
CODE_COVERAGE_LDFLAGS=''
CODE_COVERAGE_LIBS=''
CODE_COVERAGE_OUTPUT_DIRECTORY ?= $(PACKAGE_NAME)-$(PACKAGE_VERSION)-coverage
CODE_COVERAGE_OUTPUT_FILE ?= $(PACKAGE_NAME)-$(PACKAGE_VERSION)-coverage.info
CODE_COVERAGE_RULES='
CONFIG_KERNEL_FALSE='#'
CONFIG_KERNEL_TRUE=''
CONFIG_QAT_FALSE=''
CONFIG_QAT_TRUE='#'
CONFIG_USER_FALSE='#'
CONFIG_USER_TRUE=''
CPP='gcc -E'
CPPFLAGS=''
CYGPATH_W='echo'
DEBUG_CFLAGS='-DNDEBUG'
DEBUG_STACKFLAGS=''
DEBUG_ZFS='_without_debug'
DEFAULT_INITCONF_DIR='/etc/sysconfig'
DEFAULT_INIT_DIR='${prefix}/etc/init.d'
DEFAULT_INIT_SCRIPT='redhat'
DEFAULT_PACKAGE='rpm'
DEFINE_INITRAMFS=''
DEFS='-DHAVE_CONFIG_H'
DEPDIR='.deps'
DLLTOOL='false'
DPKG='dpkg'
DPKGBUILD='dpkg-buildpackage'
DPKGBUILD_VERSION=''
DPKG_VERSION=''
DSYMUTIL=''
DUMPBIN=''
ECHO_C=''
ECHO_N='-n'
ECHO_T=''
EGREP='/usr/bin/grep -E'
EXEEXT=''
FGREP='/usr/bin/grep -F'
FRAME_LARGER_THAN='-Wframe-larger-than=1024'
GCOV=''
GENHTML=''
GITIGNOREFILES += $(CODE_COVERAGE_OUTPUT_FILE) $(CODE_COVERAGE_OUTPUT_DIRECTORY)
GITIGNOREFILES ?=
GREP='/usr/bin/grep'
HAVE_ALIEN='no'
HAVE_DPKG='no'
HAVE_DPKGBUILD='no'
HAVE_RPM='yes'
HAVE_RPMBUILD='no'
INSTALL_DATA='${INSTALL} -m 644'
INSTALL_PROGRAM='${INSTALL}'
INSTALL_SCRIPT='${INSTALL}'
INSTALL_STRIP_PROGRAM='$(install_sh) -c -s'
KERNELCPPFLAGS=' -std=gnu99 -Wno-declaration-after-statement -Wno-unused-but-set-variable  -DHAVE_SPL -D_KERNEL -DTEXT_DOMAIN=\"zfs-linux-kernel\" -DNDEBUG '
KERNELMAKE_PARAMS=''
LCOV=''
LD='/usr/bin/ld -m elf_x86_64'
LDFLAGS=''
LIBATTR='-lattr'
LIBBLKID='-lblkid'
LIBOBJS=''
LIBS='-luuid -lz '
LIBSSL='-lssl -lcrypto'
LIBTIRPC=''
LIBTIRPC_CFLAGS=''
LIBTOOL='$(SHELL) $(top_builddir)/libtool'
LIBUDEV=''
LIBUUID='-luuid'
LINUX='/home/stor/linux-3.10.0-693.el7'
LINUX_OBJ='/home/stor/linux-3.10.0-693.el7'
LINUX_SYMBOLS='Module.symvers'
LINUX_VERSION='3.10.0'
LIPO=''
LN_S='ln -s'
LTLIBOBJS=''
MAINT='#'
MAINTAINER_MODE_FALSE=''
MAINTAINER_MODE_TRUE='#'
MAKEINFO='${SHELL} /home/zfs/z_sm4/zfs_hmx/config/missing makeinfo'
MANIFEST_TOOL=':'
MKDIR_P='/usr/bin/mkdir -p'
NM='/usr/bin/nm -B'
NMEDIT=''
NO_BOOL_COMPARE=''
NO_FORMAT_TRUNCATION='-Wno-format-truncation'
NO_UNUSED_BUT_SET_VARIABLE='-Wno-unused-but-set-variable'
OBJDUMP='objdump'
OBJEXT='o'
OTOOL64=''
OTOOL=''
PACKAGE='zfs'
PACKAGE_BUGREPORT=''
PACKAGE_NAME='zfs'
PACKAGE_STRING='zfs 0.7.0'
PACKAGE_TARNAME='zfs'
PACKAGE_URL=''
PACKAGE_VERSION='0.7.0'
PATH_SEPARATOR=':'
QAT_OBJ=''
QAT_SRC=''
QAT_SYMBOLS=''
RANLIB='ranlib'
RELEASE='1'
RM='rm -f'
RPM='rpm'
RPMBUILD='rpmbuild'
RPMBUILD_VERSION=''
RPM_DEFINE_COMMON='--define "$(DEBUG_ZFS) 1"'
RPM_DEFINE_DKMS=''
RPM_DEFINE_KMOD='--define "kernels $(LINUX_VERSION)" --define "require_spldir $(SPL)" --define "require_splobj $(SPL_OBJ)" --define "ksrc $(LINUX)" --define "kobj $(LINUX_OBJ)"'
RPM_DEFINE_UTIL='--define "_dracutdir $(dracutdir)" --define "_udevdir $(udevdir)" --define "_udevruledir $(udevruledir)" --define "_initconfdir $(DEFAULT_INITCONF_DIR)" $(DEFINE_INITRAMFS)'
RPM_SPEC_DIR='rpm/generic'
RPM_VERSION='4.11.3'
SED='/usr/bin/sed'
SET_MAKE=''
SHELL='/bin/sh'
SPL='/usr/local/src/spl-0.7.0'
SPL_OBJ='/usr/local/src/spl-0.7.0/3.10.0'
SPL_SYMBOLS='Module.symvers'
SPL_VERSION='0.7.0-17_g28920ea'
SRPM_DEFINE_COMMON='--define "build_src_rpm 1"'
SRPM_DEFINE_DKMS=''
SRPM_DEFINE_KMOD=''
SRPM_DEFINE_UTIL=''
STRIP='strip'
TARGET_ASM_DIR='asm-x86_64'
TARGET_ASM_GENERIC_FALSE=''
TARGET_ASM_GENERIC_TRUE='#'
TARGET_ASM_I386_FALSE=''
TARGET_ASM_I386_TRUE='#'
TARGET_ASM_X86_64_FALSE='#'
TARGET_ASM_X86_64_TRUE=''
VENDOR='redhat'
VERSION='0.7.0'
WANT_DEVNAME2DEVID_FALSE=''
WANT_DEVNAME2DEVID_TRUE='#'
ZFS_CONFIG='all'
ZFS_INIT_SYSTEMD='systemd'
ZFS_INIT_SYSV='init.d'
ZFS_META_ALIAS='zfs-0.7.0-1'
ZFS_META_AUTHOR='OpenZFS on Linux'
ZFS_META_DATA=''
ZFS_META_LICENSE='CDDL'
ZFS_META_LT_AGE=''
ZFS_META_LT_CURRENT=''
ZFS_META_LT_REVISION=''
ZFS_META_NAME='zfs'
ZFS_META_RELEASE='1'
ZFS_META_VERSION='0.7.0'
ZFS_MODULE_LOAD='modules-load.d'
ZLIB='-lz'
ZONENAME='echo global'
ac_ct_AR='ar'
ac_ct_CC='gcc'
ac_ct_DUMPBIN=''
am__EXEEXT_FALSE=''
am__EXEEXT_TRUE='#'
am__fastdepCCAS_FALSE='#'
am__fastdepCCAS_TRUE=''
am__fastdepCC_FALSE='#'
am__fastdepCC_TRUE=''
am__include='include'
am__isrc=''
am__leading_dot='.'
am__nodep='_no'
am__quote=''
am__tar='$${TAR-tar} chof - "$$tardir"'
am__untar='$${TAR-tar} xf -'
bindir='${exec_prefix}/bin'
build='x86_64-unknown-linux-gnu'
build_alias=''
build_cpu='x86_64'
build_os='linux-gnu'
build_vendor='unknown'
check-code-coverage:
code-coverage-capture-hook:
code-coverage-capture: code-coverage-capture-hook
code_coverage_quiet = $(code_coverage_quiet_$(V))
code_coverage_quiet_ = $(code_coverage_quiet_$(AM_DEFAULT_VERBOSITY))
code_coverage_quiet_0 = --quiet
code_coverage_sanitize = $(subst -,_,$(subst .,_,$(1)))
code_coverage_v_genhtml = $(code_coverage_v_genhtml_$(V))
code_coverage_v_genhtml_ = $(code_coverage_v_genhtml_$(AM_DEFAULT_VERBOSITY))
code_coverage_v_genhtml_0 = @echo "  GEN   " $(CODE_COVERAGE_OUTPUT_DIRECTORY);
code_coverage_v_lcov_cap = $(code_coverage_v_lcov_cap_$(V))
code_coverage_v_lcov_cap_ = $(code_coverage_v_lcov_cap_$(AM_DEFAULT_VERBOSITY))
code_coverage_v_lcov_cap_0 = @echo "  LCOV   --capture"\
code_coverage_v_lcov_ign = $(code_coverage_v_lcov_ign_$(V))
code_coverage_v_lcov_ign_ = $(code_coverage_v_lcov_ign_$(AM_DEFAULT_VERBOSITY))
code_coverage_v_lcov_ign_0 = @echo "  LCOV   --remove /tmp/*"\
datadir='${datarootdir}'
datarootdir='${prefix}/share'
docdir='${datarootdir}/doc/${PACKAGE_TARNAME}'
dracutdir='/usr/lib/dracut'
dvidir='${docdir}'
exec_prefix='${prefix}'
host='x86_64-unknown-linux-gnu'
host_alias=''
host_cpu='x86_64'
host_os='linux-gnu'
host_vendor='unknown'
htmldir='${docdir}'
includedir='${prefix}/include'
infodir='${datarootdir}/info'
install_sh='${SHELL} /home/zfs/z_sm4/zfs_hmx/config/install-sh'
libdir='${exec_prefix}/lib'
libexecdir='${exec_prefix}/libexec'
localedir='${datarootdir}/locale'
localstatedir='${prefix}/var'
mandir='${datarootdir}/man'
mkdir_p='$(MKDIR_P)'
modulesloaddir='/usr/lib/modules-load.d'
mounthelperdir='/sbin'
oldincludedir='/usr/include'
pdfdir='${docdir}'
prefix='/usr/local'
program_transform_name='s,x,x,'
psdir='${docdir}'
runstatedir='${localstatedir}/run'
sbindir='${exec_prefix}/sbin'
sharedstatedir='${prefix}/com'
sysconfdir='${prefix}/etc'
systemdpresetdir='/usr/lib/systemd/system-preset'
systemdunitdir='/usr/lib/systemd/system'
target='x86_64-unknown-linux-gnu'
target_alias=''
target_cpu='x86_64'
target_os='linux-gnu'
target_vendor='unknown'
udevdir='/lib/udev'
udevruledir='/lib/udev/rules.d'

## ----------- ##
## confdefs.h. ##
## ----------- ##

/* confdefs.h */
#define PACKAGE_NAME "zfs"
#define PACKAGE_TARNAME "zfs"
#define PACKAGE_VERSION "0.7.0"
#define PACKAGE_STRING "zfs 0.7.0"
#define PACKAGE_BUGREPORT ""
#define PACKAGE_URL ""
#define ZFS_META_NAME "zfs"
#define ZFS_META_VERSION "0.7.0"
#define ZFS_META_RELEASE "1"
#define ZFS_META_LICENSE "CDDL"
#define ZFS_META_ALIAS "zfs-0.7.0-1"
#define ZFS_META_AUTHOR "OpenZFS on Linux"
#define PACKAGE "zfs"
#define VERSION "0.7.0"
#define STDC_HEADERS 1
#define HAVE_SYS_TYPES_H 1
#define HAVE_SYS_STAT_H 1
#define HAVE_STDLIB_H 1
#define HAVE_STRING_H 1
#define HAVE_MEMORY_H 1
#define HAVE_STRINGS_H 1
#define HAVE_INTTYPES_H 1
#define HAVE_STDINT_H 1
#define HAVE_UNISTD_H 1
#define HAVE_DLFCN_H 1
#define LT_OBJDIR ".libs/"
#define HAVE_SSE 1
#define HAVE_SSE2 1
#define HAVE_SSE3 1
#define HAVE_SSSE3 1
#define HAVE_SSE4_1 1
#define HAVE_SSE4_2 1
#define HAVE_AVX 1
#define HAVE_AVX2 1
#define HAVE_AVX512F 1
#define HAVE_AVX512CD 1
#define HAVE_AVX512DQ 1
#define HAVE_AVX512BW 1
#define HAVE_AVX512IFMA 1
#define HAVE_AVX512VBMI 1
#define HAVE_AVX512PF 1
#define HAVE_AVX512ER 1
#define HAVE_AVX512VL 1
#define HAVE_ZLIB 1
#define HAVE_LIBUUID 1
#define HAVE_LIBBLKID 1
#define HAVE_LIBATTR 1
#define HAVE_LIBSSL 1
#define HAVE_MAKEDEV_IN_SYSMACROS 1
#define HAVE_MLOCKALL 1
#define HAVE_KERNEL_OBJTOOL 1
#define HAVE_LARGE_STACKS 1
#define HAVE_CURRENT_BIO_LIST 1
#define HAVE_BDEV_BLOCK_DEVICE_OPERATIONS 1
#define HAVE_BLOCK_DEVICE_OPERATIONS_RELEASE_VOID 1
#define HAVE_FMODE_T 1
#define HAVE_3ARG_BLKDEV_GET 1
#define HAVE_BLKDEV_GET_BY_PATH 1
#define HAVE_1ARG_LOOKUP_BDEV 1
#define HAVE_1ARG_INVALIDATE_BDEV 1
#define HAVE_BDEV_LOGICAL_BLOCK_SIZE 1
#define HAVE_BDEV_PHYSICAL_BLOCK_SIZE 1
#define HAVE_REQ_FAILFAST_MASK 1
#define HAVE_BLK_QUEUE_FLUSH 1
#define HAVE_BLK_QUEUE_FLUSH_GPL_ONLY 1
#define HAVE_BLK_QUEUE_MAX_HW_SECTORS 1
#define HAVE_BLK_QUEUE_MAX_SEGMENTS 1
#define HAVE_BLK_QUEUE_HAVE_BLK_PLUG 1
#define HAVE_GET_DISK_RO 1
#define HAVE_GET_GENDISK 1
#define HAVE_BIO_SET_OP_ATTRS 1
#define HAVE_GENERIC_READLINK 1
#define HAVE_DISCARD_GRANULARITY 1
#define HAVE_CONST_XATTR_HANDLER 1
#define HAVE_XATTR_GET_DENTRY 1
#define HAVE_XATTR_SET_DENTRY 1
#define HAVE_XATTR_LIST_DENTRY 1
#define HAVE_INODE_OWNER_OR_CAPABLE 1
#define HAVE_POSIX_ACL_FROM_XATTR_USERNS 1
#define HAVE_POSIX_ACL_RELEASE 1
#define HAVE_POSIX_ACL_RELEASE_GPL_ONLY 1
#define HAVE_POSIX_ACL_CHMOD 1
#define HAVE_POSIX_ACL_EQUIV_MODE_UMODE_T 1
#define HAVE_PERMISSION 1
#define HAVE_GET_ACL 1
#define HAVE_VFSMOUNT_IOPS_GETATTR 1
#define HAVE_INODE_SET_FLAGS 1
#define HAVE_SHOW_OPTIONS_WITH_DENTRY 1
#define HAVE_FILE_INODE 1
#define HAVE_FILE_DENTRY 1
#define HAVE_FSYNC_RANGE 1
#define HAVE_EVICT_INODE 1
#define HAVE_DIRTY_INODE_WITH_FLAGS 1
#define HAVE_NR_CACHED_OBJECTS 1
#define HAVE_FREE_CACHED_OBJECTS 1
#define HAVE_FILE_FALLOCATE 1
#define HAVE_FILE_AIO_FSYNC 1
#define HAVE_MKDIR_UMODE_T 1
#define HAVE_FOLLOW_LINK_NAMEIDATA 1
#define HAVE_PUT_LINK_NAMEIDATA 1
#define HAVE_AUTOMOUNT 1
#define HAVE_ENCODE_FH_WITH_INODE 1
#define HAVE_COMMIT_METADATA 1
#define HAVE_CLEAR_INODE 1
#define HAVE_INSERT_INODE_LOCKED 1
#define HAVE_D_MAKE_ROOT 1
#define HAVE_D_OBTAIN_ALIAS 1
#define HAVE_D_PRUNE_ALIASES 1
#define HAVE_D_SET_D_OP 1
#define HAVE_CONST_DENTRY_OPERATIONS 1
#define HAVE_TRUNCATE_SETSIZE 1
#define HAVE_CALLBACK_SECURITY_INODE_INIT_SECURITY 1
#define HAVE_MOUNT_NODEV 1
#define HAVE_SHRINK 1
#define HAVE_S_D_OP 1
#define HAVE_3ARGS_BDI_SETUP_AND_REGISTER 1
#define HAVE_SET_NLINK 1
#define HAVE_ELEVATOR_CHANGE 1
#define HAVE_5ARG_SGET 1
#define HAVE_VFS_READDIR 1
#define HAVE_1ARG_KMAP_ATOMIC 1
#define HAVE_FOLLOW_DOWN_ONE 1
#define MAKE_REQUEST_FN_RET void
#define HAVE_GENERIC_IO_ACCT_3ARG 1
#define HAVE_KUID_HELPERS 1
#define HAVE_GENERIC_SETXATTR 1

configure: exit 0
